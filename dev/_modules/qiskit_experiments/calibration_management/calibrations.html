<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>qiskit_experiments.calibration_management.calibrations - Qiskit Experiments 0.8.0-1-gc66db6fc</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=82a976d7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/qiskit-sphinx-theme.css?v=8ff9dcb6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/nbsphinx-gallery.css?v=da7c71e1" />
    <link rel="stylesheet" type="text/css" href="../../../_static/customstyles.css?v=5690b376" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=IBM+Plex+Sans:ital,wght@0,400;0,600;1,400;1,600&display=swap" rel="stylesheet"></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M14 2H2C1.73478 2 1.48043 2.10536 1.29289 2.29289C1.10536 2.48043 1 2.73478 1 3V13C1 13.2652 1.10536 13.5196 1.29289 13.7071C1.48043 13.8946 1.73478 14 2 14H14C14.2652 14 14.5196 13.8946 14.7071 13.7071C14.8946 13.5196 15 13.2652 15 13V3C15 2.73478 14.8946 2.48043 14.7071 2.29289C14.5196 2.10536 14.2652 2 14 2V2ZM2 3H10V13H2V3ZM14 13H11V3H14V13Z" fill="currentColor"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M14 3H2V4H14V3Z" fill="currentColor"/>
      <path d="M14 12H2V13H14V12Z" fill="currentColor"/>
      <path d="M14 6H2V7H14V6Z" fill="currentColor"/>
      <path d="M14 9H2V10H14V9Z" fill="currentColor"/>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M11 8L6.00005 13L5.30005 12.3L9.60005 8L5.30005 3.7L6.00005 3L11 8Z" fill="currentColor"/>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M15 13H1V14H15V13Z" fill="currentColor"/>
      <path d="M12.7 4.5C13.1 4.1 13.1 3.5 12.7 3.1L10.9 1.3C10.5 0.9 9.9 0.9 9.5 1.3L2 8.8V12H5.2L12.7 4.5ZM10.2 2L12 3.8L10.5 5.3L8.7 3.5L10.2 2ZM3 11V9.2L8 4.2L9.8 6L4.8 11H3Z" fill="currentColor"/>
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M11 13.0002C11.5523 13.0002 12 12.5525 12 12.0002C12 11.4479 11.5523 11.0002 11 11.0002C10.4477 11.0002 10 11.4479 10 12.0002C10 12.5525 10.4477 13.0002 11 13.0002Z" fill="currentColor"/>
      <path d="M14.8884 11.7394C14.5795 10.9524 14.0464 10.2734 13.3552 9.78646C12.664 9.29954 11.8451 9.02615 11 9.00017C10.1549 9.02615 9.33604 9.29954 8.64484 9.78646C7.95365 10.2734 7.42052 10.9524 7.11155 11.7394L7 12.0002L7.11155 12.2609C7.42052 13.0479 7.95365 13.727 8.64484 14.2139C9.33604 14.7008 10.1549 14.9742 11 15.0002C11.8451 14.9742 12.664 14.7008 13.3552 14.2139C14.0464 13.727 14.5795 13.0479 14.8884 12.2609L15 12.0002L14.8884 11.7394ZM11 14.0002C10.6044 14.0002 10.2178 13.8829 9.88886 13.6631C9.55996 13.4433 9.30362 13.131 9.15224 12.7655C9.00087 12.4001 8.96126 11.998 9.03843 11.61C9.1156 11.222 9.30608 10.8657 9.58579 10.586C9.86549 10.3063 10.2219 10.1158 10.6098 10.0386C10.9978 9.96143 11.3999 10.001 11.7654 10.1524C12.1308 10.3038 12.4432 10.5601 12.6629 10.889C12.8827 11.2179 13 11.6046 13 12.0002C12.9994 12.5304 12.7885 13.0388 12.4136 13.4137C12.0386 13.7887 11.5303 13.9996 11 14.0002Z" fill="currentColor"/>
      <path d="M6 14.0002H4V2.00017H8V5.00017C8.00077 5.26515 8.10637 5.51906 8.29374 5.70643C8.48111 5.8938 8.73502 5.99941 9 6.00017H12V8.00017H13V5.00017C13.0018 4.93446 12.9893 4.86913 12.9634 4.80871C12.9375 4.74828 12.8988 4.6942 12.85 4.65017L9.35 1.15017C9.30599 1.10134 9.2519 1.06263 9.19147 1.03674C9.13104 1.01084 9.06572 0.998364 9 1.00017H4C3.73502 1.00094 3.48111 1.10654 3.29374 1.29391C3.10637 1.48128 3.00077 1.73519 3 2.00017V14.0002C3.00077 14.2652 3.10637 14.5191 3.29374 14.7064C3.48111 14.8938 3.73502 14.9994 4 15.0002H6V14.0002ZM9 2.20017L11.8 5.00017H9V2.20017Z" fill="currentColor"/>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">Qiskit Experiments 0.8.0-1-gc66db6fc</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  
  <span class="sidebar-brand-text">Qiskit Experiments 0.8.0-1-gc66db6fc</span>
  
</a>
<form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Qiskit Experiments Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/getting_started.html">Getting Started</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/calibrations.html">Calibrations: Schedules and gate parameters from experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/data_processor.html">Data Processor: Wrangling data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/curve_analysis.html">Curve Analysis: Fitting your data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/visualization.html">Visualization: Creating figures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/custom_experiment.html">Writing your own experiment</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../howtos/index.html">How-To Guides</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of How-To Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../howtos/artifacts.html">Work with experiment artifacts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../howtos/cloud_service.html">Save and load experiment data with the cloud service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../howtos/experiment_times.html">Get experiment timing information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../howtos/figure_generation.html">Control figure generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../howtos/job_splitting.html">Control the splitting of experiment circuits into jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../howtos/rerun_analysis.html">Rerun analysis for an existing experiment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../howtos/runtime_sessions.html">Use Experiments with Sampler</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../manuals/index.html">Experiment Manuals</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Experiment Manuals</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../manuals/verification/quantum_volume.html">Quantum Volume</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../manuals/verification/randomized_benchmarking.html">Randomized Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../manuals/verification/state_tomography.html">Quantum State Tomography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../manuals/characterization/stark_experiment.html">AC Stark Effect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../manuals/characterization/t1.html">T1 Characterization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../manuals/characterization/t2hahn.html">T2 Hahn Characterization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../manuals/characterization/t2ramsey.html">T2* Ramsey Characterization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../manuals/characterization/tphi.html">Tφ Characterization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../manuals/measurement/readout_mitigation.html">Readout Mitigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../manuals/measurement/restless_measurements.html">Restless Measurements</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../apidocs/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../apidocs/main.html">Qiskit Experiments (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments</span></code>)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/framework.html">Experiment Framework (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.framework</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Experiment Framework (qiskit_experiments.framework)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.ExperimentData.html">ExperimentData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.ExperimentStatus.html">ExperimentStatus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.AnalysisStatus.html">AnalysisStatus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.AnalysisResult.html">AnalysisResult</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.AnalysisResultData.html">AnalysisResultData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.AnalysisResultTable.html">AnalysisResultTable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.ExperimentConfig.html">ExperimentConfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.AnalysisConfig.html">AnalysisConfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.ExperimentEncoder.html">ExperimentEncoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.ExperimentDecoder.html">ExperimentDecoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.ArtifactData.html">ArtifactData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.FigureData.html">FigureData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.CompositeExperiment.html">CompositeExperiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.ParallelExperiment.html">ParallelExperiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.BatchExperiment.html">BatchExperiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.CompositeAnalysis.html">CompositeAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.BaseExperiment.html">BaseExperiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.BaseAnalysis.html">BaseAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.BackendData.html">BackendData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.BackendTiming.html">BackendTiming</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.framework.RestlessMixin.html">RestlessMixin</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/library.html">Experiment Library (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.library</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Experiment Library (qiskit_experiments.library)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.randomized_benchmarking.StandardRB.html">StandardRB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.randomized_benchmarking.InterleavedRB.html">InterleavedRB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.TomographyExperiment.html">TomographyExperiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.StateTomography.html">StateTomography</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.ProcessTomography.html">ProcessTomography</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.MitigatedStateTomography.html">MitigatedStateTomography</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.MitigatedProcessTomography.html">MitigatedProcessTomography</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.quantum_volume.QuantumVolume.html">QuantumVolume</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.T1.html">T1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.T2Hahn.html">T2Hahn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.T2Ramsey.html">T2Ramsey</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.Tphi.html">Tphi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.QubitSpectroscopy.html">QubitSpectroscopy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.EFSpectroscopy.html">EFSpectroscopy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.HalfAngle.html">HalfAngle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineAmplitude.html">FineAmplitude</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineXAmplitude.html">FineXAmplitude</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineSXAmplitude.html">FineSXAmplitude</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.Rabi.html">Rabi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.EFRabi.html">EFRabi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.RamseyXY.html">RamseyXY</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineFrequency.html">FineFrequency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.ReadoutAngle.html">ReadoutAngle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.ResonatorSpectroscopy.html">ResonatorSpectroscopy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.RoughDrag.html">RoughDrag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineDrag.html">FineDrag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineXDrag.html">FineXDrag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineSXDrag.html">FineSXDrag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.MultiStateDiscrimination.html">MultiStateDiscrimination</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.driven_freq_tuning.StarkRamseyXY.html">StarkRamseyXY</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.driven_freq_tuning.StarkRamseyXYAmpScan.html">StarkRamseyXYAmpScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.driven_freq_tuning.StarkP1Spectroscopy.html">StarkP1Spectroscopy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.CrossResonanceHamiltonian.html">CrossResonanceHamiltonian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.EchoedCrossResonanceHamiltonian.html">EchoedCrossResonanceHamiltonian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.ZZRamsey.html">ZZRamsey</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineZXAmplitude.html">FineZXAmplitude</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.LocalReadoutError.html">LocalReadoutError</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.CorrelatedReadoutError.html">CorrelatedReadoutError</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.RoughFrequencyCal.html">RoughFrequencyCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.RoughEFFrequencyCal.html">RoughEFFrequencyCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FrequencyCal.html">FrequencyCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineFrequencyCal.html">FineFrequencyCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.RoughDragCal.html">RoughDragCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineXDragCal.html">FineXDragCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineSXDragCal.html">FineSXDragCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineDragCal.html">FineDragCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineAmplitudeCal.html">FineAmplitudeCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineXAmplitudeCal.html">FineXAmplitudeCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineSXAmplitudeCal.html">FineSXAmplitudeCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.HalfAngleCal.html">HalfAngleCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.RoughAmplitudeCal.html">RoughAmplitudeCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.RoughXSXAmplitudeCal.html">RoughXSXAmplitudeCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.EFRoughXSXAmplitudeCal.html">EFRoughXSXAmplitudeCal</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/data_processing.html">Data Processing (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.data_processing</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Data Processing (qiskit_experiments.data_processing)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.DataProcessor.html">DataProcessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.DataAction.html">DataAction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.TrainableDataAction.html">TrainableDataAction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.Probability.html">Probability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.MarginalizeCounts.html">MarginalizeCounts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.ToImag.html">ToImag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.ToReal.html">ToReal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.SVD.html">SVD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.DiscriminatorNode.html">DiscriminatorNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.MemoryToCounts.html">MemoryToCounts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.AverageData.html">AverageData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.BasisExpectationValue.html">BasisExpectationValue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.MinMaxNormalize.html">MinMaxNormalize</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.ShotOrder.html">ShotOrder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.RestlessNode.html">RestlessNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.RestlessToCounts.html">RestlessToCounts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.RestlessToIQ.html">RestlessToIQ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.BaseDiscriminator.html">BaseDiscriminator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.SkLDA.html">SkLDA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.data_processing.SkQDA.html">SkQDA</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/curve_analysis.html">Curve Analysis (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.curve_analysis</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Curve Analysis (qiskit_experiments.curve_analysis)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.BaseCurveAnalysis.html">BaseCurveAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.CurveAnalysis.html">CurveAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.CompositeCurveAnalysis.html">CompositeCurveAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.ScatterTable.html">ScatterTable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.CurveFitResult.html">CurveFitResult</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.ParameterRepr.html">ParameterRepr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.FitOptions.html">FitOptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.BlochTrajectoryAnalysis.html">BlochTrajectoryAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.DecayAnalysis.html">DecayAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.DampedOscillationAnalysis.html">DampedOscillationAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.OscillationAnalysis.html">OscillationAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.ResonanceAnalysis.html">ResonanceAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.GaussianAnalysis.html">GaussianAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.ErrorAmplificationAnalysis.html">ErrorAmplificationAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.fit_function.cos.html">cos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.fit_function.cos_decay.html">cos_decay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.fit_function.exponential_decay.html">exponential_decay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.fit_function.gaussian.html">gaussian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.fit_function.sqrt_lorentzian.html">sqrt_lorentzian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.fit_function.sin.html">sin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.fit_function.sin_decay.html">sin_decay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.guess.constant_sinusoidal_offset.html">constant_sinusoidal_offset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.guess.constant_spectral_offset.html">constant_spectral_offset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.guess.exp_decay.html">exp_decay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.guess.rb_decay.html">rb_decay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.guess.full_width_half_max.html">full_width_half_max</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.guess.frequency.html">frequency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.guess.max_height.html">max_height</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.guess.min_height.html">min_height</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.guess.oscillation_exp_decay.html">oscillation_exp_decay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.utils.is_error_not_significant.html">is_error_not_significant</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.utils.analysis_result_to_repr.html">analysis_result_to_repr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.utils.convert_lmfit_result.html">convert_lmfit_result</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.utils.eval_with_uncertainties.html">eval_with_uncertainties</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.utils.filter_data.html">filter_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.utils.mean_xy_data.html">mean_xy_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.utils.multi_mean_xy_data.html">multi_mean_xy_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.utils.data_sort.html">data_sort</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.utils.level2_probability.html">level2_probability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.curve_analysis.utils.probability.html">probability</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/calibration_management.html">Calibration Management (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.calibration_management</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Calibration Management (qiskit_experiments.calibration_management)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html">Calibrations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.calibration_management.ParameterValue.html">ParameterValue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.calibration_management.FixedFrequencyTransmon.html">FixedFrequencyTransmon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.calibration_management.EchoedCrossResonance.html">EchoedCrossResonance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.calibration_management.BasisGateLibrary.html">BasisGateLibrary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.calibration_management.BaseCalibrationExperiment.html">BaseCalibrationExperiment</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/database_service.html">Database Service (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.database_service</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Database Service (qiskit_experiments.database_service)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.database_service.DeviceComponent.html">DeviceComponent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.database_service.Qubit.html">Qubit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.database_service.Resonator.html">Resonator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.database_service.UnknownComponent.html">UnknownComponent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.database_service.to_component.html">to_component</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.database_service.ExperimentDataError.html">ExperimentDataError</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.database_service.ExperimentEntryExists.html">ExperimentEntryExists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.database_service.ExperimentEntryNotFound.html">ExperimentEntryNotFound</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/visualization.html">Visualization (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.visualization</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Visualization (qiskit_experiments.visualization)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.visualization.BasePlotter.html">BasePlotter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.visualization.CurvePlotter.html">CurvePlotter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.visualization.IQPlotter.html">IQPlotter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.visualization.BaseDrawer.html">BaseDrawer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.visualization.MplDrawer.html">MplDrawer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.visualization.PlotStyle.html">PlotStyle</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/test.html">Test Utilities (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.test</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Test Utilities (qiskit_experiments.test)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.test.PulseBackend.html">PulseBackend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.test.SingleTransmonTestBackend.html">SingleTransmonTestBackend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.test.MockIQBackend.html">MockIQBackend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.test.MockIQParallelBackend.html">MockIQParallelBackend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.test.T2HahnBackend.html">T2HahnBackend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.test.NoisyDelayAerBackend.html">NoisyDelayAerBackend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.test.MockIQExperimentHelper.html">MockIQExperimentHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.test.MockIQParallelExperimentHelper.html">MockIQParallelExperimentHelper</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/mod_calibration.html">Calibration Experiments (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.library.calibration</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Calibration Experiments (qiskit_experiments.library.calibration)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.RoughFrequencyCal.html">RoughFrequencyCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FrequencyCal.html">FrequencyCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineFrequencyCal.html">FineFrequencyCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.RoughDragCal.html">RoughDragCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineDragCal.html">FineDragCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineXDragCal.html">FineXDragCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineSXDragCal.html">FineSXDragCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineAmplitudeCal.html">FineAmplitudeCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineXAmplitudeCal.html">FineXAmplitudeCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.FineSXAmplitudeCal.html">FineSXAmplitudeCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.HalfAngleCal.html">HalfAngleCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.RoughAmplitudeCal.html">RoughAmplitudeCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.RoughXSXAmplitudeCal.html">RoughXSXAmplitudeCal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.calibration.EFRoughXSXAmplitudeCal.html">EFRoughXSXAmplitudeCal</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/mod_characterization.html">Characterization Experiments (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.library.characterization</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Characterization Experiments (qiskit_experiments.library.characterization)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.T1.html">T1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.T2Ramsey.html">T2Ramsey</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.T2Hahn.html">T2Hahn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.Tphi.html">Tphi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.QubitSpectroscopy.html">QubitSpectroscopy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.CrossResonanceHamiltonian.html">CrossResonanceHamiltonian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.EchoedCrossResonanceHamiltonian.html">EchoedCrossResonanceHamiltonian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.Rabi.html">Rabi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.EFRabi.html">EFRabi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.HalfAngle.html">HalfAngle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineAmplitude.html">FineAmplitude</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineXAmplitude.html">FineXAmplitude</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineSXAmplitude.html">FineSXAmplitude</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineZXAmplitude.html">FineZXAmplitude</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.RamseyXY.html">RamseyXY</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineFrequency.html">FineFrequency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.RoughDrag.html">RoughDrag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.ReadoutAngle.html">ReadoutAngle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineDrag.html">FineDrag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineXDrag.html">FineXDrag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineSXDrag.html">FineSXDrag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.LocalReadoutError.html">LocalReadoutError</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.CorrelatedReadoutError.html">CorrelatedReadoutError</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.ResonatorSpectroscopy.html">ResonatorSpectroscopy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.MultiStateDiscrimination.html">MultiStateDiscrimination</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.ZZRamsey.html">ZZRamsey</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.T1Analysis.html">T1Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.T1KerneledAnalysis.html">T1KerneledAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.T2RamseyAnalysis.html">T2RamseyAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.T2HahnAnalysis.html">T2HahnAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.TphiAnalysis.html">TphiAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.CrossResonanceHamiltonianAnalysis.html">CrossResonanceHamiltonianAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.DragCalAnalysis.html">DragCalAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.FineAmplitudeAnalysis.html">FineAmplitudeAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.RamseyXYAnalysis.html">RamseyXYAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.ReadoutAngleAnalysis.html">ReadoutAngleAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.ResonatorSpectroscopyAnalysis.html">ResonatorSpectroscopyAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.LocalReadoutErrorAnalysis.html">LocalReadoutErrorAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.CorrelatedReadoutErrorAnalysis.html">CorrelatedReadoutErrorAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.ZZRamseyAnalysis.html">ZZRamseyAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.characterization.MultiStateDiscriminationAnalysis.html">MultiStateDiscriminationAnalysis</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/mod_driven_freq_tuning.html">Driven Frequency Tuning (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.library.driven_freq_tuning</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Driven Frequency Tuning (qiskit_experiments.library.driven_freq_tuning)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.driven_freq_tuning.StarkRamseyXY.html">StarkRamseyXY</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.driven_freq_tuning.StarkRamseyXYAmpScan.html">StarkRamseyXYAmpScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.driven_freq_tuning.StarkP1Spectroscopy.html">StarkP1Spectroscopy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.driven_freq_tuning.StarkRamseyXYAmpScanAnalysis.html">StarkRamseyXYAmpScanAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.driven_freq_tuning.StarkP1SpectAnalysis.html">StarkP1SpectAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.driven_freq_tuning.StarkCoefficients.html">StarkCoefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.driven_freq_tuning.retrieve_coefficients_from_backend.html">retrieve_coefficients_from_backend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.driven_freq_tuning.retrieve_coefficients_from_service.html">retrieve_coefficients_from_service</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/mod_randomized_benchmarking.html">Randomized Benchmarking Experiments (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.library.randomized_benchmarking</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Randomized Benchmarking Experiments (qiskit_experiments.library.randomized_benchmarking)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.randomized_benchmarking.StandardRB.html">StandardRB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.randomized_benchmarking.InterleavedRB.html">InterleavedRB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.randomized_benchmarking.LayerFidelity.html">LayerFidelity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.randomized_benchmarking.RBAnalysis.html">RBAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.randomized_benchmarking.InterleavedRBAnalysis.html">InterleavedRBAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.randomized_benchmarking.LayerFidelityAnalysis.html">LayerFidelityAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.randomized_benchmarking.RBDefaultCliffordSynthesis.html">RBDefaultCliffordSynthesis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.randomized_benchmarking.RBUtils.html">RBUtils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.randomized_benchmarking.CliffordUtils.html">CliffordUtils</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/mod_tomography.html">Tomography Experiments (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.library.tomography</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Tomography Experiments (qiskit_experiments.library.tomography)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.TomographyExperiment.html">TomographyExperiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.StateTomography.html">StateTomography</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.ProcessTomography.html">ProcessTomography</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.MitigatedStateTomography.html">MitigatedStateTomography</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.MitigatedProcessTomography.html">MitigatedProcessTomography</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.TomographyAnalysis.html">TomographyAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.StateTomographyAnalysis.html">StateTomographyAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.ProcessTomographyAnalysis.html">ProcessTomographyAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.MitigatedTomographyAnalysis.html">MitigatedTomographyAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.fitters.linear_inversion.html">linear_inversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.fitters.cvxpy_gaussian_lstsq.html">cvxpy_gaussian_lstsq</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.fitters.cvxpy_linear_lstsq.html">cvxpy_linear_lstsq</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.basis.PauliMeasurementBasis.html">PauliMeasurementBasis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.basis.PauliPreparationBasis.html">PauliPreparationBasis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.basis.Pauli6PreparationBasis.html">Pauli6PreparationBasis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.basis.LocalMeasurementBasis.html">LocalMeasurementBasis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.basis.LocalPreparationBasis.html">LocalPreparationBasis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.basis.MeasurementBasis.html">MeasurementBasis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.tomography.basis.PreparationBasis.html">PreparationBasis</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../apidocs/mod_quantum_volume.html">Quantum Volume Experiment (<code class="xref py py-mod docutils literal notranslate"><span class="pre">qiskit_experiments.library.quantum_volume</span></code>)</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Quantum Volume Experiment (qiskit_experiments.library.quantum_volume)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.quantum_volume.QuantumVolume.html">QuantumVolume</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.quantum_volume.QuantumVolumeAnalysis.html">QuantumVolumeAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stubs/qiskit_experiments.library.quantum_volume.QuantumVolumePlotter.html">QuantumVolumePlotter</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Qiskit-Community/qiskit-experiments">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://qiskit-community.github.io/qiskit-experiments/dev/">Development Branch Docs</a></li>
</ul>

</div><div class="qiskit-previous-releases-container">
    <input id="previous-releases-checkbox" name="previous-releases-checkbox" role="switch" type="checkbox">
    <div class="qiskit-previous-releases-header-container"><label for="previous-releases-checkbox">
            <p role="note">Previous Releases</p>
            <div class="qiskit-previous-releases-toggle-container">
                <div class="visually-hidden">Toggle navigation of Previous Releases</div>
                <i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i>
            </div>
        </label>
    </div>
    <div class="qiskit-previous-releases-list-container">
        <ul>
        
            <li><a href="/qiskit-experiments/stable/0.7/index.html" rel="nofollow noindex">0.7</a></li>
        
            <li><a href="/qiskit-experiments/stable/0.6/index.html" rel="nofollow noindex">0.6</a></li>
        
            <li><a href="/qiskit-experiments/stable/0.5/index.html" rel="nofollow noindex">0.5</a></li>
        
        </ul>
    </div>
</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <h1>Source code for qiskit_experiments.calibration_management.calibrations</h1><div class="highlight"><pre>
<span></span><span class="c1"># This code is part of Qiskit.</span>
<span class="c1">#</span>
<span class="c1"># (C) Copyright IBM 2021.</span>
<span class="c1">#</span>
<span class="c1"># This code is licensed under the Apache License, Version 2.0. You may</span>
<span class="c1"># obtain a copy of this license in the LICENSE.txt file in the root directory</span>
<span class="c1"># of this source tree or at http://www.apache.org/licenses/LICENSE-2.0.</span>
<span class="c1">#</span>
<span class="c1"># Any modifications or derivative works of this code must retain this</span>
<span class="c1"># copyright notice, and modified files need to carry a notice indicating</span>
<span class="c1"># that they have been altered from the originals.</span>

<span class="sd">&quot;&quot;&quot;Class to store and manage the results of calibration experiments.&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span><span class="p">,</span> <span class="n">Counter</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timezone</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Set</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">import</span> <span class="nn">dataclasses</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">rustworkx</span> <span class="k">as</span> <span class="nn">rx</span>

<span class="kn">from</span> <span class="nn">qiskit.pulse</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ScheduleBlock</span><span class="p">,</span>
    <span class="n">DriveChannel</span><span class="p">,</span>
    <span class="n">ControlChannel</span><span class="p">,</span>
    <span class="n">MeasureChannel</span><span class="p">,</span>
    <span class="n">AcquireChannel</span><span class="p">,</span>
    <span class="n">RegisterSlot</span><span class="p">,</span>
    <span class="n">MemorySlot</span><span class="p">,</span>
    <span class="n">InstructionScheduleMap</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">qiskit.pulse.channels</span> <span class="kn">import</span> <span class="n">PulseChannel</span>
<span class="kn">from</span> <span class="nn">qiskit.circuit</span> <span class="kn">import</span> <span class="n">Parameter</span><span class="p">,</span> <span class="n">ParameterExpression</span>
<span class="kn">from</span> <span class="nn">qiskit.providers.backend</span> <span class="kn">import</span> <span class="n">Backend</span>
<span class="kn">from</span> <span class="nn">qiskit.utils.deprecation</span> <span class="kn">import</span> <span class="n">deprecate_func</span><span class="p">,</span> <span class="n">deprecate_arg</span>

<span class="kn">from</span> <span class="nn">qiskit_experiments.exceptions</span> <span class="kn">import</span> <span class="n">CalibrationError</span>
<span class="kn">from</span> <span class="nn">qiskit_experiments.calibration_management.basis_gate_library</span> <span class="kn">import</span> <span class="n">BasisGateLibrary</span>
<span class="kn">from</span> <span class="nn">qiskit_experiments.calibration_management.parameter_value</span> <span class="kn">import</span> <span class="n">ParameterValue</span>
<span class="kn">from</span> <span class="nn">qiskit_experiments.calibration_management.control_channel_map</span> <span class="kn">import</span> <span class="n">ControlChannelMap</span>
<span class="kn">from</span> <span class="nn">qiskit_experiments.calibration_management.calibration_utils</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">used_in_references</span><span class="p">,</span>
    <span class="n">validate_channels</span><span class="p">,</span>
    <span class="n">reference_info</span><span class="p">,</span>
    <span class="n">update_schedule_dependency</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">qiskit_experiments.calibration_management.calibration_key_types</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ParameterKey</span><span class="p">,</span>
    <span class="n">ParameterValueType</span><span class="p">,</span>
    <span class="n">ScheduleKey</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">qiskit_experiments.framework</span> <span class="kn">import</span> <span class="n">BackendData</span><span class="p">,</span> <span class="n">ExperimentEncoder</span><span class="p">,</span> <span class="n">ExperimentDecoder</span>


<div class="viewcode-block" id="Calibrations">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations">[docs]</a>
<span class="k">class</span> <span class="nc">Calibrations</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class to manage schedules with calibrated parameter values. Schedules are</span>
<span class="sd">    intended to be fully parameterized, including the index of the channels. See</span>
<span class="sd">    the module-level documentation for extra details. Note that only instances of</span>
<span class="sd">    ScheduleBlock are supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@deprecate_func</span><span class="p">(</span>
        <span class="n">since</span><span class="o">=</span><span class="s2">&quot;0.8&quot;</span><span class="p">,</span>
        <span class="n">package_name</span><span class="o">=</span><span class="s2">&quot;qiskit-experiments&quot;</span><span class="p">,</span>
        <span class="n">additional_msg</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Due to the deprecation of Qiskit Pulse, support for pulse &quot;</span>
            <span class="s2">&quot;gate calibrations has been deprecated.&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">coupling_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">control_channel_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">ControlChannel</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">libraries</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">BasisGateLibrary</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">add_parameter_defaults</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">backend_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">backend_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the calibrations.</span>

<span class="sd">        Calibrations can be initialized from a list of basis gate libraries, i.e. a subclass of</span>
<span class="sd">        :class:`.BasisGateLibrary`. As example consider the following code:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            cals = Calibrations(</span>
<span class="sd">                    libraries=[</span>
<span class="sd">                        FixedFrequencyTransmon(</span>
<span class="sd">                            basis_gates=[&quot;x&quot;, &quot;sx&quot;],</span>
<span class="sd">                            default_values={duration: 320}</span>
<span class="sd">                        )</span>
<span class="sd">                    ]</span>
<span class="sd">                )</span>

<span class="sd">        Args:</span>
<span class="sd">            coupling_map: The device&#39;s coupling map. Each sub-list describes connected qubits</span>
<span class="sd">                For example, the coupling map of a fully pairwise-connected backend with three</span>
<span class="sd">                qubits is :code:`[[0, 1], [1, 0], [1, 2], [2, 1], [2, 0], [0, 2]]`.</span>
<span class="sd">            control_channel_map: A configuration dictionary of any control channels. The</span>
<span class="sd">                keys are tuples of qubits and the values are a list of ControlChannels</span>
<span class="sd">                that correspond to the qubits in the keys. If a control_channel_map is given</span>
<span class="sd">                then the qubits must be in the coupling_map.</span>
<span class="sd">            libraries: A list of library instances from which to get template schedules to register</span>
<span class="sd">                as well as default parameter values.</span>
<span class="sd">            add_parameter_defaults: A boolean to indicate weather the default parameter values of</span>
<span class="sd">                the given libraries should be used to populate the calibrations. By default this</span>
<span class="sd">                value is True but can be set to false when deserializing a calibrations object.</span>
<span class="sd">            backend_name: The name of the backend that these calibrations are attached to.</span>
<span class="sd">            backend_version: The version of the backend that these calibrations are attached to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_backend_name</span> <span class="o">=</span> <span class="n">backend_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_backend_version</span> <span class="o">=</span> <span class="n">backend_version</span>

        <span class="c1"># Mapping between qubits and their control channels.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_control_channel_map</span> <span class="o">=</span> <span class="n">control_channel_map</span> <span class="k">if</span> <span class="n">control_channel_map</span> <span class="k">else</span> <span class="p">{}</span>

        <span class="c1"># Store the reverse mapping between control channels and qubits for ease of look-up.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_controls_config_r</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">channels</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_control_channel_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_controls_config_r</span><span class="p">[</span><span class="n">channel</span><span class="p">]</span> <span class="o">=</span> <span class="n">qubits</span>

        <span class="c1"># Dict of the form: (schedule.name, parameter.name, qubits): Parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Reverse mapping of _parameter_map</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map_r</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>

        <span class="c1"># Default dict of the form: (schedule.name, parameter.name, qubits): [ParameterValue, ...]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_params</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>

        <span class="c1"># Dict of the form: ScheduleKey: ScheduleBlock</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Dict of the form: ScheduleKey: int (number of qubits in corresponding circuit instruction)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schedules_qubits</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># A directed acyclic graph to manage schedule reference dependencies.</span>
        <span class="c1"># Each node is a schedule key and edges are schedule references.</span>
        <span class="c1"># The acyclic nature prevents users from registering schedules with cyclic dependencies.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_dependency</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">PyDiGraph</span><span class="p">(</span><span class="n">check_cycle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># A variable to store all parameter hashes encountered and present them as ordered</span>
        <span class="c1"># indices to the user.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hash_to_counter_map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_counter</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_libraries</span> <span class="o">=</span> <span class="n">libraries</span>
        <span class="k">if</span> <span class="n">libraries</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">libraries</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">libraries</span> <span class="o">=</span> <span class="p">[</span><span class="n">libraries</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">lib</span> <span class="ow">in</span> <span class="n">libraries</span><span class="p">:</span>
                <span class="c1"># Add the basis gates</span>
                <span class="k">for</span> <span class="n">gate</span> <span class="ow">in</span> <span class="n">lib</span><span class="o">.</span><span class="n">basis_gates</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_schedule</span><span class="p">(</span><span class="n">lib</span><span class="p">[</span><span class="n">gate</span><span class="p">],</span> <span class="n">num_qubits</span><span class="o">=</span><span class="n">lib</span><span class="o">.</span><span class="n">num_qubits</span><span class="p">(</span><span class="n">gate</span><span class="p">))</span>

                <span class="c1"># Add the default values</span>
                <span class="k">if</span> <span class="n">add_parameter_defaults</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">param_conf</span> <span class="ow">in</span> <span class="n">lib</span><span class="o">.</span><span class="n">default_values</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter_value</span><span class="p">(</span><span class="o">*</span><span class="n">param_conf</span><span class="p">,</span> <span class="n">update_inst_map</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

                <span class="c1"># Add the parameters that do not belong to a schedule.</span>
                <span class="k">for</span> <span class="n">param_name</span> <span class="ow">in</span> <span class="n">lib</span><span class="o">.</span><span class="n">__parameters_without_schedule__</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_register_parameter</span><span class="p">(</span><span class="n">Parameter</span><span class="p">(</span><span class="n">param_name</span><span class="p">),</span> <span class="nb">tuple</span><span class="p">())</span>

        <span class="c1"># This internal parameter is False so that if a schedule is added after the</span>
        <span class="c1"># init it will be set to True and serialization will raise an error.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_manually_added_schedule</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># Instruction schedule map variables and support variables.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inst_map</span> <span class="o">=</span> <span class="n">InstructionScheduleMap</span><span class="p">()</span>

        <span class="c1"># Backends with a single qubit may not have a coupling map.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_coupling_map</span> <span class="o">=</span> <span class="n">coupling_map</span> <span class="k">if</span> <span class="n">coupling_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span>

        <span class="c1"># A dict extension of the coupling map where the key is the number of qubits and</span>
        <span class="c1"># the values are a list of qubits coupled.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_operated_qubits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_operated_qubits</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_consistency</span><span class="p">()</span>

        <span class="c1"># Push the schedules to the instruction schedule map.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_inst_map</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="nd">@deprecate_func</span><span class="p">(</span>
        <span class="n">is_property</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">since</span><span class="o">=</span><span class="s2">&quot;0.6&quot;</span><span class="p">,</span>
        <span class="n">package_name</span><span class="o">=</span><span class="s2">&quot;qiskit-experiments&quot;</span><span class="p">,</span>
        <span class="n">additional_msg</span><span class="o">=</span><span class="s2">&quot;The drive_freq is moved to FixedFrequencyTransmon basis gate library.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">drive_freq</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parameter object for qubit drive frequency.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="s2">&quot;drive_freq&quot;</span><span class="p">,</span> <span class="p">(),</span> <span class="kc">None</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="nd">@deprecate_func</span><span class="p">(</span>
        <span class="n">is_property</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">since</span><span class="o">=</span><span class="s2">&quot;0.6&quot;</span><span class="p">,</span>
        <span class="n">package_name</span><span class="o">=</span><span class="s2">&quot;qiskit-experiments&quot;</span><span class="p">,</span>
        <span class="n">additional_msg</span><span class="o">=</span><span class="s2">&quot;The meas_freq is moved to FixedFrequencyTransmon basis gate library.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">meas_freq</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parameter object for qubit measure frequency.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="s2">&quot;meas_freq&quot;</span><span class="p">,</span> <span class="p">(),</span> <span class="kc">None</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_check_consistency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that the attributes defined in self are consistent.</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError: If there is a control channel map but no coupling map.</span>
<span class="sd">            CalibrationError: If a qubit in the control channel map is not in the</span>
<span class="sd">                coupling map.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coupling_map</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_control_channel_map</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span><span class="s2">&quot;No coupling map but a control channel map was found.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coupling_map</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_control_channel_map</span><span class="p">:</span>
            <span class="n">cmap_qubits</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">qubit</span> <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coupling_map</span> <span class="k">for</span> <span class="n">qubit</span> <span class="ow">in</span> <span class="n">pair</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">qubits</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_control_channel_map</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="n">qubits</span><span class="p">)</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">cmap_qubits</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Qubits </span><span class="si">{</span><span class="n">qubits</span><span class="si">}</span><span class="s2"> of control_channel_map are not in the coupling map.&quot;</span>
                    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">backend_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the name of the backend.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">backend_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the version of the backend.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_version</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">schedule_dependency</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">rx</span><span class="o">.</span><span class="n">PyDiGraph</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the schedule dependencies in the calibrations.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_dependency</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<div class="viewcode-block" id="Calibrations.from_backend">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.from_backend">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_backend</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">backend</span><span class="p">:</span> <span class="n">Backend</span><span class="p">,</span>
        <span class="n">libraries</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">BasisGateLibrary</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">add_parameter_defaults</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Calibrations&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create an instance of Calibrations from a backend.</span>

<span class="sd">        Args:</span>
<span class="sd">            backend: A backend instance from which to extract the qubit and readout frequencies</span>
<span class="sd">                (which will be added as first guesses for the corresponding parameters) as well</span>
<span class="sd">                as the coupling map.</span>
<span class="sd">            libraries: A list of libraries from which to get template schedules to register as</span>
<span class="sd">                well as default parameter values.</span>
<span class="sd">            add_parameter_defaults: A boolean to indicate whether the default parameter values of</span>
<span class="sd">                the given library should be used to populate the calibrations. By default, this</span>
<span class="sd">                value is ``True``.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An instance of Calibrations instantiated from a backend.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">backend_data</span> <span class="o">=</span> <span class="n">BackendData</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span>

        <span class="n">control_channel_map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">backend_data</span><span class="o">.</span><span class="n">coupling_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">qargs</span> <span class="ow">in</span> <span class="n">backend_data</span><span class="o">.</span><span class="n">coupling_map</span><span class="p">:</span>
                <span class="n">control_channel_map</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">qargs</span><span class="p">)]</span> <span class="o">=</span> <span class="n">backend_data</span><span class="o">.</span><span class="n">control_channel</span><span class="p">(</span><span class="n">qargs</span><span class="p">)</span>

        <span class="n">cals</span> <span class="o">=</span> <span class="n">Calibrations</span><span class="p">(</span>
            <span class="n">backend_data</span><span class="o">.</span><span class="n">coupling_map</span><span class="p">,</span>
            <span class="n">control_channel_map</span><span class="p">,</span>
            <span class="n">libraries</span><span class="p">,</span>
            <span class="n">add_parameter_defaults</span><span class="p">,</span>
            <span class="n">backend_data</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">backend_data</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">add_parameter_defaults</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;drive_freq&quot;</span><span class="p">,</span> <span class="p">(),</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">in</span> <span class="n">cals</span><span class="o">.</span><span class="n">_parameter_map</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">qubit</span><span class="p">,</span> <span class="n">freq</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">backend_data</span><span class="o">.</span><span class="n">drive_freqs</span><span class="p">):</span>
                    <span class="n">cals</span><span class="o">.</span><span class="n">add_parameter_value</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="s2">&quot;drive_freq&quot;</span><span class="p">,</span> <span class="n">qubit</span><span class="p">,</span> <span class="n">update_inst_map</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;meas_freq&quot;</span><span class="p">,</span> <span class="p">(),</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">in</span> <span class="n">cals</span><span class="o">.</span><span class="n">_parameter_map</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">meas</span><span class="p">,</span> <span class="n">freq</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">backend_data</span><span class="o">.</span><span class="n">meas_freqs</span><span class="p">):</span>
                    <span class="n">cals</span><span class="o">.</span><span class="n">add_parameter_value</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="s2">&quot;meas_freq&quot;</span><span class="p">,</span> <span class="n">meas</span><span class="p">,</span> <span class="n">update_inst_map</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># Update the instruction schedule map after adding all parameter values.</span>
        <span class="n">cals</span><span class="o">.</span><span class="n">update_inst_map</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">cals</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">libraries</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">BasisGateLibrary</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the libraries used to initialize the calibrations.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_libraries</span>

    <span class="k">def</span> <span class="nf">_get_operated_qubits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dict describing qubit couplings.</span>

<span class="sd">        This is an extension of the coupling map and used as a convenience to help populate</span>
<span class="sd">        the instruction schedule map.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dict where the key is the number of qubits coupled and the value is a list of</span>
<span class="sd">            lists where the sublist shows which qubits are coupled. For example, a three qubit</span>
<span class="sd">            system with a three qubit gate and three two-qubit gates would be represented as</span>

<span class="sd">            .. parsed-literal::</span>

<span class="sd">                {</span>
<span class="sd">                    1: [[0], [1], [2]],</span>
<span class="sd">                    2: [[0, 1], [1, 2], [2, 1]],</span>
<span class="sd">                    3: [[0, 1, 2]]</span>
<span class="sd">                }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">operated_qubits</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>

        <span class="c1"># Single qubits</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coupling_map</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">qubit</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">qubit</span> <span class="k">for</span> <span class="n">coupled</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coupling_map</span> <span class="k">for</span> <span class="n">qubit</span> <span class="ow">in</span> <span class="n">coupled</span><span class="p">):</span>
                <span class="n">operated_qubits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">qubit</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Edge case for single-qubit device.</span>
            <span class="n">operated_qubits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>

        <span class="c1"># Multi-qubit couplings</span>
        <span class="k">for</span> <span class="n">coupling</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coupling_map</span><span class="p">:</span>
            <span class="n">operated_qubits</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">coupling</span><span class="p">)]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coupling</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">operated_qubits</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">default_inst_map</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InstructionScheduleMap</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the default and up to date instruction schedule map.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inst_map</span>

<div class="viewcode-block" id="Calibrations.get_inst_map">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.get_inst_map">[docs]</a>
    <span class="k">def</span> <span class="nf">get_inst_map</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">group</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="n">cutoff_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InstructionScheduleMap</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get an Instruction schedule map with the calibrated pulses.</span>

<span class="sd">        If the group is &#39;default&#39; and cutoff date is None then the automatically updated</span>
<span class="sd">        instruction schedule map is returned. However, if these values are different then</span>
<span class="sd">        a new instruction schedule map is populated based on the values.</span>

<span class="sd">        Args:</span>
<span class="sd">            group: The calibration group from which to draw the parameters.</span>
<span class="sd">                If not specified this defaults to the &#39;default&#39; group.</span>
<span class="sd">            cutoff_date: Retrieve the most recent parameter up until the cutoff date. Parameters</span>
<span class="sd">                generated after the cutoff date will be ignored. If the cutoff_date is None then</span>
<span class="sd">                all parameters are considered. This allows users to discard more recent values that</span>
<span class="sd">                may be erroneous.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An instruction schedule map with parameters updated up to the desired cutoff date</span>
<span class="sd">            and from the desired calibration group.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">group</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span> <span class="ow">and</span> <span class="n">cutoff_date</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inst_map</span>

        <span class="n">inst_map</span> <span class="o">=</span> <span class="n">InstructionScheduleMap</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_inst_map</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="n">group</span><span class="p">,</span> <span class="n">cutoff_date</span><span class="o">=</span><span class="n">cutoff_date</span><span class="p">,</span> <span class="n">inst_map</span><span class="o">=</span><span class="n">inst_map</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">inst_map</span></div>


<div class="viewcode-block" id="Calibrations.update_inst_map">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.update_inst_map">[docs]</a>
    <span class="k">def</span> <span class="nf">update_inst_map</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">schedules</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">qubits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="n">cutoff_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">inst_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">InstructionScheduleMap</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Push all schedules from the Calibrations to the inst map.</span>

<span class="sd">        This will create instructions with the same name as the schedules.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedules: The name of the schedules to update. If None is given then</span>
<span class="sd">                all schedules will be pushed to instructions.</span>
<span class="sd">            qubits: The qubits for which to update the instruction schedule map.</span>
<span class="sd">                If qubits is None then all possible schedules defined by the coupling</span>
<span class="sd">                map will be updated. Note that this argument specifies a particular set of</span>
<span class="sd">                qubits to update instructions for. For example, if qubits is :code:`(2, 3)` then</span>
<span class="sd">                only two-qubit instructions that apply to qubits 2 and 3 will be updated. Here,</span>
<span class="sd">                single-qubit instructions will not be updated.</span>
<span class="sd">            group: The calibration group from which to draw the parameters. If not specified</span>
<span class="sd">                this defaults to the &#39;default&#39; group.</span>
<span class="sd">            cutoff_date: Retrieve the most recent parameter up until the cutoff date. Parameters</span>
<span class="sd">                generated after the cutoff date will be ignored. If the cutoff_date is None then</span>
<span class="sd">                all parameters are considered. This allows users to discard more recent values that</span>
<span class="sd">                may be erroneous.</span>
<span class="sd">            inst_map: The instruction schedule map to update. If None is given then the default</span>
<span class="sd">                instruction schedule map (i.e. self._inst_map) will be updated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">inst_map</span> <span class="o">=</span> <span class="n">inst_map</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inst_map</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">:</span>
            <span class="n">sched_name</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span>

            <span class="k">if</span> <span class="n">schedules</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">sched_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">schedules</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">qubits</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_robust_inst_map_add</span><span class="p">(</span><span class="n">inst_map</span><span class="p">,</span> <span class="n">sched_name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">cutoff_date</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">qubits_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operated_qubits</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_schedules_qubits</span><span class="p">[</span><span class="n">key</span><span class="p">]]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_robust_inst_map_add</span><span class="p">(</span><span class="n">inst_map</span><span class="p">,</span> <span class="n">sched_name</span><span class="p">,</span> <span class="n">qubits_</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">cutoff_date</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_robust_inst_map_add</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">inst_map</span><span class="p">:</span> <span class="n">InstructionScheduleMap</span><span class="p">,</span>
        <span class="n">sched_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">qubits</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]],</span>
        <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">cutoff</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A helper method for update_inst_map.</span>

<span class="sd">        get_schedule may raise an error if not all parameters have values or</span>
<span class="sd">        default values. In this case we ignore and continue updating inst_map.</span>
<span class="sd">        Note that ``qubits`` may only be a sub-set of the qubits of the schedule that</span>
<span class="sd">        we want to update. This may arise in cases such as an ECR gate schedule that calls</span>
<span class="sd">        an X-gate schedule. When updating the X-gate schedule we need to also update the</span>
<span class="sd">        corresponding ECR schedules which operate on a larger number of qubits.</span>

<span class="sd">        Args:</span>
<span class="sd">            sched_name: The name of the schedule.</span>
<span class="sd">            qubits: The qubit to which the schedule applies. Note, these may be only a</span>
<span class="sd">                subset of the qubits in the schedule. For example, if the name of the</span>
<span class="sd">                schedule is `&quot;cr&quot;` we may have `qubits` be `(3, )` and this function</span>
<span class="sd">                will update the CR schedules on all schedules which involve qubit 3.</span>
<span class="sd">            group: The calibration group.</span>
<span class="sd">            cutoff: The cutoff date.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">update_qubits</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_full_qubits_of_schedule</span><span class="p">(</span><span class="n">sched_name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">schedule</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_schedule</span><span class="p">(</span>
                    <span class="n">sched_name</span><span class="p">,</span> <span class="n">update_qubits</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">group</span><span class="p">,</span> <span class="n">cutoff_date</span><span class="o">=</span><span class="n">cutoff</span>
                <span class="p">)</span>
                <span class="n">inst_map</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">instruction</span><span class="o">=</span><span class="n">sched_name</span><span class="p">,</span> <span class="n">qubits</span><span class="o">=</span><span class="n">update_qubits</span><span class="p">,</span> <span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">CalibrationError</span><span class="p">:</span>
                <span class="c1"># get_schedule may raise an error if not all parameters have values or</span>
                <span class="c1"># default values. In this case we ignore and continue updating inst_map.</span>
                <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_get_full_qubits_of_schedule</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">schedule_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">partial_qubits</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Find all qubits for which there is a schedule ``schedule_name`` on ``partial_qubits``.</span>

<span class="sd">        This method uses the map between the schedules and the number of qubits that they</span>
<span class="sd">        operate on as well as the extension of the coupling map ``_operated_qubits`` to find</span>
<span class="sd">        which qubits are involved in the schedule named ``schedule_name`` involving the</span>
<span class="sd">        ``partial_qubits``.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_name: The name of the schedule as registered in ``self``.</span>
<span class="sd">            partial_qubits: A sub-set of qubits on which the schedule applies.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of tuples. Each tuple is the set of qubits for which there is a schedule</span>
<span class="sd">            named ``schedule_name`` and ``partial_qubits`` is a sub-set of said qubits.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">circuit_inst_num_qubits</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules_qubits</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span> <span class="o">==</span> <span class="n">schedule_name</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">partial_qubits</span><span class="p">)</span> <span class="o">==</span> <span class="n">circuit_inst_num_qubits</span><span class="p">:</span>
                    <span class="k">return</span> <span class="p">[</span><span class="n">partial_qubits</span><span class="p">]</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="n">candidates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operated_qubits</span><span class="p">[</span><span class="n">circuit_inst_num_qubits</span><span class="p">]</span>
                    <span class="n">qubits_for_update</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">candidate_qubits</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">partial_qubits</span><span class="p">)</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">candidate_qubits</span><span class="p">)):</span>
                            <span class="n">qubits_for_update</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">candidate_qubits</span><span class="p">))</span>

                    <span class="k">return</span> <span class="n">qubits_for_update</span>

        <span class="k">return</span> <span class="p">[]</span>

<div class="viewcode-block" id="Calibrations.inst_map_add">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.inst_map_add">[docs]</a>
    <span class="k">def</span> <span class="nf">inst_map_add</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">instruction_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">qubits</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
        <span class="n">schedule_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">assign_params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ParameterKey</span><span class="p">],</span> <span class="n">ParameterValueType</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a single instruction in the instruction schedule map.</span>

<span class="sd">        This method can be used to update a single instruction for the given qubits but</span>
<span class="sd">        it can also be used by experiments that define custom gates with parameters</span>
<span class="sd">        such as the :class:`Rabi` experiment. In a Rabi experiment there is a gate named</span>
<span class="sd">        &quot;Rabi&quot; that scans a pulse with a custom amplitude. Therefore we would do</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            cals.inst_map_add(&quot;Rabi&quot;, (0, ), &quot;xp&quot;, assign_params={&quot;amp&quot;: Parameter(&quot;amp&quot;)})</span>

<span class="sd">        to temporarily add a pulse for the Rabi gate in the instruction schedule map. This</span>
<span class="sd">        then allows calling :code:`transpile(circ, inst_map=cals.default_inst_map)`.</span>

<span class="sd">        Args:</span>
<span class="sd">            instruction_name: The name of the instruction to add to the instruction schedule map.</span>
<span class="sd">            qubits: The qubits to which the instruction will apply.</span>
<span class="sd">            schedule_name: The name of the schedule. If None is given then we assume that the</span>
<span class="sd">                schedule and the instruction have the same name.</span>
<span class="sd">            assign_params: An optional dict of parameter mappings to apply. See for instance</span>
<span class="sd">                :meth:`.get_schedule` of :class:`.Calibrations`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">schedule_name</span> <span class="o">=</span> <span class="n">schedule_name</span> <span class="ow">or</span> <span class="n">instruction_name</span>

        <span class="n">inst_map_args</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">assign_params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">inst_map_args</span> <span class="o">=</span> <span class="n">assign_params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_inst_map</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
            <span class="n">instruction</span><span class="o">=</span><span class="n">instruction_name</span><span class="p">,</span>
            <span class="n">qubits</span><span class="o">=</span><span class="n">qubits</span><span class="p">,</span>
            <span class="n">schedule</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_schedule</span><span class="p">(</span><span class="n">schedule_name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">assign_params</span><span class="p">),</span>
            <span class="n">arguments</span><span class="o">=</span><span class="n">inst_map_args</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Calibrations.add_schedule">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.add_schedule">[docs]</a>
    <span class="k">def</span> <span class="nf">add_schedule</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">schedule</span><span class="p">:</span> <span class="n">ScheduleBlock</span><span class="p">,</span>
        <span class="n">qubits</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">num_qubits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a schedule block and register its parameters.</span>

<span class="sd">        Schedules that use Call instructions must register the called schedules separately.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule: The :class:`ScheduleBlock` to add.</span>
<span class="sd">            qubits: The qubits for which to add the schedules. If None or an empty tuple is</span>
<span class="sd">                given then this schedule is the default schedule for all qubits and, in this</span>
<span class="sd">                case, the number of qubits that this schedule act on must be given.</span>
<span class="sd">            num_qubits: The number of qubits that this schedule will act on when exported to</span>
<span class="sd">                a circuit instruction. This argument is optional as long as qubits is either</span>
<span class="sd">                not None or not an empty tuple (i.e. default schedule).</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError: If schedule is not an instance of :class:`ScheduleBlock`.</span>
<span class="sd">            CalibrationError: If a schedule has assigned references.</span>
<span class="sd">            CalibrationError: If several parameters in the same schedule have the same name.</span>
<span class="sd">            CalibrationError: If the schedule name starts with the prefix of ScheduleBlock.</span>
<span class="sd">            CalibrationError: If the schedule calls subroutines that have not been registered.</span>
<span class="sd">            CalibrationError: If a :class:`Schedule` is Called instead of a :class:`ScheduleBlock`.</span>
<span class="sd">            CalibrationError: If a schedule with the same name exists and acts on a different</span>
<span class="sd">                number of qubits.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_manually_added_schedule</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">qubits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_tuple</span><span class="p">(</span><span class="n">qubits</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">qubits</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">num_qubits</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span><span class="s2">&quot;Both qubits and num_qubits cannot simultaneously be None.&quot;</span><span class="p">)</span>

        <span class="n">num_qubits</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">qubits</span><span class="p">)</span> <span class="ow">or</span> <span class="n">num_qubits</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schedule</span><span class="p">,</span> <span class="n">ScheduleBlock</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> is not a ScheduleBlock.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">references</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">unassigned</span><span class="p">()):</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Cannot add </span><span class="si">{</span><span class="n">schedule</span><span class="si">}</span><span class="s2"> with assigned references. </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> only &quot;</span>
                <span class="s2">&quot;accepts schedules without references or schedules with references by name.&quot;</span>
            <span class="p">)</span>

        <span class="n">sched_key</span> <span class="o">=</span> <span class="n">ScheduleKey</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">)</span>

        <span class="c1"># Ensure one to one mapping between name and number of qubits.</span>
        <span class="k">if</span> <span class="n">sched_key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules_qubits</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules_qubits</span><span class="p">[</span><span class="n">sched_key</span><span class="p">]</span> <span class="o">!=</span> <span class="n">num_qubits</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Cannot add schedule </span><span class="si">{</span><span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> acting on </span><span class="si">{</span><span class="n">num_qubits</span><span class="si">}</span><span class="s2"> qubits.&quot;</span>
                <span class="s2">&quot;self already contains a schedule with the same name acting on &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_schedules_qubits</span><span class="p">[</span><span class="n">sched_key</span><span class="p">]</span><span class="si">}</span><span class="s2"> qubits. Remove old schedule first.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># check that channels, if parameterized, have the proper name format.</span>
        <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">ScheduleBlock</span><span class="o">.</span><span class="n">prefix</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> uses the `name` property of the schedule as part of a &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;database key. Using the automatically generated name </span><span class="si">{</span><span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> may have &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;unintended consequences. Please define a meaningful and unique schedule name.&quot;</span>
            <span class="p">)</span>

        <span class="n">param_indices</span> <span class="o">=</span> <span class="n">validate_channels</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>

        <span class="c1"># Check that subroutines are present.</span>
        <span class="k">for</span> <span class="n">reference</span> <span class="ow">in</span> <span class="n">schedule</span><span class="o">.</span><span class="n">references</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="o">*</span><span class="n">reference_info</span><span class="p">(</span><span class="n">reference</span><span class="p">,</span> <span class="n">qubits</span><span class="p">))</span>

        <span class="c1"># Clean the parameter to schedule mapping. This is needed if we overwrite a schedule.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_clean_parameter_map</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">)</span>

        <span class="c1"># Add the schedule.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">[</span><span class="n">sched_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schedules_qubits</span><span class="p">[</span><span class="n">sched_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">num_qubits</span>

        <span class="c1"># Update the schedule dependency.</span>
        <span class="n">update_schedule_dependency</span><span class="p">(</span><span class="n">schedule</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_dependency</span><span class="p">,</span> <span class="n">sched_key</span><span class="p">)</span>

        <span class="c1"># Register parameters that are not indices.</span>
        <span class="n">params_to_register</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">schedule</span><span class="o">.</span><span class="n">parameters</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">param</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">param_indices</span><span class="p">:</span>
                <span class="n">params_to_register</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">params_to_register</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">params_to_register</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Parameter names in </span><span class="si">{</span><span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> must be unique.&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">params_to_register</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_register_parameter</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">schedule</span><span class="p">)</span></div>


<div class="viewcode-block" id="Calibrations.has_template">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.has_template">[docs]</a>
    <span class="k">def</span> <span class="nf">has_template</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">qubits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test if a template schedule is defined</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_name: The name of the template schedule.</span>
<span class="sd">            qubits: The qubits under which the template schedule was registered.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if a template exists for the schedule name for the given qubits</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="n">schedule_name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">)</span>
            <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">CalibrationError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="n">found</span></div>


<div class="viewcode-block" id="Calibrations.get_template">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.get_template">[docs]</a>
    <span class="k">def</span> <span class="nf">get_template</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">schedule_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">qubits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleBlock</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a template schedule.</span>

<span class="sd">        Allows the user to get a template schedule that was previously registered.</span>
<span class="sd">        A template schedule will typically be fully parametric, i.e. all pulse</span>
<span class="sd">        parameters and channel indices are represented by :class:`Parameter`.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_name: The name of the template schedule.</span>
<span class="sd">            qubits: The qubits under which the template schedule was registered.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The registered template schedule.</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError: If no template schedule for the given schedule name and qubits</span>
<span class="sd">                was registered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">ScheduleKey</span><span class="p">(</span><span class="n">schedule_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_tuple</span><span class="p">(</span><span class="n">qubits</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">ScheduleKey</span><span class="p">(</span><span class="n">schedule_name</span><span class="p">,</span> <span class="p">())</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">[</span><span class="n">ScheduleKey</span><span class="p">(</span><span class="n">schedule_name</span><span class="p">,</span> <span class="p">())]</span>

        <span class="k">if</span> <span class="n">qubits</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Could not find schedule </span><span class="si">{</span><span class="n">schedule_name</span><span class="si">}</span><span class="s2"> on qubits </span><span class="si">{</span><span class="n">qubits</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Could not find schedule </span><span class="si">{</span><span class="n">schedule_name</span><span class="si">}</span><span class="s2">.&quot;</span>

        <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>


<div class="viewcode-block" id="Calibrations.remove_schedule">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.remove_schedule">[docs]</a>
    <span class="k">def</span> <span class="nf">remove_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">ScheduleBlock</span><span class="p">,</span> <span class="n">qubits</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove a schedule that was previously registered.</span>

<span class="sd">        Allows users to remove a schedule from the calibrations. The history of the parameters</span>
<span class="sd">        will remain in the calibrations.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule: The schedule to remove.</span>
<span class="sd">            qubits: The qubits for which to remove the schedules. If None is given then this</span>
<span class="sd">                schedule is the default schedule for all qubits.</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError: If other schedules depend on ``schedule``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qubits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_tuple</span><span class="p">(</span><span class="n">qubits</span><span class="p">)</span>
        <span class="n">sched_key</span> <span class="o">=</span> <span class="n">ScheduleKey</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">)</span>

        <span class="c1"># Remove the schedule from the schedule dependency DAG. Raise if others depend on it.</span>
        <span class="n">sched_idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_dependency</span><span class="o">.</span><span class="n">nodes</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">sched_key</span><span class="p">)</span>
        <span class="n">prev_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_dependency</span><span class="o">.</span><span class="n">predecessors</span><span class="p">(</span><span class="n">sched_idx</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">prev_nodes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Cannot remove schedule </span><span class="si">{</span><span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> as </span><span class="si">{</span><span class="n">prev_nodes</span><span class="si">}</span><span class="s2"> depend on it.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_dependency</span><span class="o">.</span><span class="n">remove_node</span><span class="p">(</span><span class="n">sched_idx</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">sched_key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">[</span><span class="n">sched_key</span><span class="p">]</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules_qubits</span><span class="p">[</span><span class="n">sched_key</span><span class="p">]</span>

        <span class="c1"># Clean the parameter to schedule mapping.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_clean_parameter_map</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_clean_parameter_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">qubits</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clean the parameter to schedule mapping for the given schedule, parameter and qubits.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_name: The name of the schedule.</span>
<span class="sd">            qubits: The qubits to which this schedule applies.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">keys_to_remove</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># of the form (schedule.name, parameter.name, qubits)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span> <span class="o">==</span> <span class="n">schedule_name</span> <span class="ow">and</span> <span class="n">key</span><span class="o">.</span><span class="n">qubits</span> <span class="o">==</span> <span class="n">qubits</span><span class="p">:</span>
                <span class="n">keys_to_remove</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys_to_remove</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

            <span class="c1"># Key set is a set of tuples (schedule.name, parameter.name, qubits)</span>
            <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">key_set</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map_r</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">key_set</span><span class="p">:</span>
                    <span class="n">key_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

        <span class="c1"># Remove entries that do not point to at least one (schedule.name, parameter.name, qubits)</span>
        <span class="n">keys_to_delete</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">key_set</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map_r</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">key_set</span><span class="p">:</span>
                <span class="n">keys_to_delete</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys_to_delete</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map_r</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_register_parameter</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">parameter</span><span class="p">:</span> <span class="n">Parameter</span><span class="p">,</span>
        <span class="n">qubits</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
        <span class="n">schedule</span><span class="p">:</span> <span class="n">ScheduleBlock</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Registers a parameter for the given schedule.</span>

<span class="sd">        This method allows self to determine the parameter instance that corresponds to the given</span>
<span class="sd">        schedule name, parameter name and qubits.</span>

<span class="sd">        Args:</span>
<span class="sd">            parameter: The parameter to register.</span>
<span class="sd">            qubits: The qubits for which to register the parameter.</span>
<span class="sd">            schedule: The schedule to which this parameter belongs. The schedule can</span>
<span class="sd">                be None which allows the calibration to accommodate, e.g. qubit frequencies.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">parameter</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash_to_counter_map</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hash_to_counter_map</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_counter</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_counter</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">sched_name</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">schedule</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">ParameterKey</span><span class="p">(</span><span class="n">parameter</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">sched_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map_r</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Parameter</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="n">ParameterKey</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a mapping between parameters and parameter keys.</span>

<span class="sd">        Returns a dictionary mapping parameters managed by the calibrations to the schedules and</span>
<span class="sd">        qubits and parameter names using the parameters. The values of the dict are sets containing</span>
<span class="sd">        the parameter keys. Parameters that are not attached to a schedule will have None in place</span>
<span class="sd">        of a schedule name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map_r</span>

<div class="viewcode-block" id="Calibrations.calibration_parameter">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.calibration_parameter">[docs]</a>
    <span class="k">def</span> <span class="nf">calibration_parameter</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">parameter_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">qubits</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">schedule_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Parameter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a parameter given its keys.</span>

<span class="sd">        Returns a Parameter object given the triplet parameter_name, qubits and schedule_name</span>
<span class="sd">        which uniquely determine the context of a parameter.</span>

<span class="sd">        Args:</span>
<span class="sd">            parameter_name: Name of the parameter to get.</span>
<span class="sd">            qubits: The qubits to which this parameter belongs. If qubits is None then</span>
<span class="sd">                the default scope is assumed and the key will be an empty tuple.</span>
<span class="sd">            schedule_name: The name of the schedule to which this parameter belongs. A</span>
<span class="sd">                parameter may not belong to a schedule in which case None is accepted.</span>

<span class="sd">        Returns:</span>
<span class="sd">             calibration parameter: The parameter that corresponds to the given arguments.</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError: If the desired parameter is not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qubits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_tuple</span><span class="p">(</span><span class="n">qubits</span><span class="p">)</span>

        <span class="c1"># 1) Check for qubit specific parameters.</span>
        <span class="k">if</span> <span class="n">ParameterKey</span><span class="p">(</span><span class="n">parameter_name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">schedule_name</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map</span><span class="p">[</span><span class="n">ParameterKey</span><span class="p">(</span><span class="n">parameter_name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">schedule_name</span><span class="p">)]</span>

        <span class="c1"># 2) Check for default parameters.</span>
        <span class="k">elif</span> <span class="n">ParameterKey</span><span class="p">(</span><span class="n">parameter_name</span><span class="p">,</span> <span class="p">(),</span> <span class="n">schedule_name</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map</span><span class="p">[</span><span class="n">ParameterKey</span><span class="p">(</span><span class="n">parameter_name</span><span class="p">,</span> <span class="p">(),</span> <span class="n">schedule_name</span><span class="p">)]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No parameter for </span><span class="si">{</span><span class="n">parameter_name</span><span class="si">}</span><span class="s2"> and schedule </span><span class="si">{</span><span class="n">schedule_name</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;and qubits </span><span class="si">{</span><span class="n">qubits</span><span class="si">}</span><span class="s2">. No default value exists.&quot;</span>
            <span class="p">)</span></div>


<div class="viewcode-block" id="Calibrations.add_parameter_value">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.add_parameter_value">[docs]</a>
    <span class="k">def</span> <span class="nf">add_parameter_value</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">ParameterValue</span><span class="p">],</span>
        <span class="n">param</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Parameter</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">qubits</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">schedule</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ScheduleBlock</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">update_inst_map</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a parameter value to the stored parameters.</span>

<span class="sd">        This parameter value may be applied to several channels, for instance, all</span>
<span class="sd">        DRAG pulses may have the same standard deviation.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: The value of the parameter to add. If an int, float, or complex is given</span>
<span class="sd">                then the timestamp of the parameter value will automatically be generated</span>
<span class="sd">                and set to the current local time of the user.</span>
<span class="sd">            param: The parameter or its name for which to add the measured value.</span>
<span class="sd">            qubits: The qubits to which this parameter applies.</span>
<span class="sd">            schedule: The schedule or its name for which to add the measured parameter value.</span>
<span class="sd">            update_inst_map: Update the instruction schedule map if True (the default).</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError: If the schedule name is given but no schedule with that name</span>
<span class="sd">                exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qubits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_tuple</span><span class="p">(</span><span class="n">qubits</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">)):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">ParameterValue</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">astimezone</span><span class="p">())</span>

        <span class="n">param_name</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="n">Parameter</span><span class="p">)</span> <span class="k">else</span> <span class="n">param</span>
        <span class="n">sched_name</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schedule</span><span class="p">,</span> <span class="n">ScheduleBlock</span><span class="p">)</span> <span class="k">else</span> <span class="n">schedule</span>

        <span class="n">registered_schedules</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">schedule</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">sched_name</span> <span class="ow">and</span> <span class="n">sched_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">registered_schedules</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Schedule named </span><span class="si">{</span><span class="n">sched_name</span><span class="si">}</span><span class="s2"> was never registered.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_params</span><span class="p">[</span><span class="n">ParameterKey</span><span class="p">(</span><span class="n">param_name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">sched_name</span><span class="p">)]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="c1"># When updating the inst_map we need to</span>
        <span class="c1"># a) Update all the schedules that use the parameter to be updated</span>
        <span class="c1"># b) Update all schedules that reference the updated schedules under a)</span>
        <span class="k">if</span> <span class="n">update_inst_map</span> <span class="ow">and</span> <span class="n">schedule</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">param_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_parameter</span><span class="p">(</span><span class="n">param_name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">sched_name</span><span class="p">)</span>

            <span class="c1"># Take care of a) i.e. update all schedules that use the parameter.</span>
            <span class="n">schedules</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">schedule</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map_r</span><span class="p">[</span><span class="n">param_obj</span><span class="p">])</span>
            <span class="n">keys</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">ScheduleKey</span><span class="p">(</span><span class="n">sched</span><span class="p">,</span> <span class="n">qubits</span><span class="p">)</span> <span class="k">for</span> <span class="n">sched</span> <span class="ow">in</span> <span class="n">schedules</span><span class="p">)</span>

            <span class="c1"># Take care of b) i.e. find all schedules that refer to the schedules that</span>
            <span class="c1"># make use of the updated parameter.</span>
            <span class="n">schedules</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">used_in_references</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_dependency</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_inst_map</span><span class="p">(</span><span class="n">schedules</span><span class="p">,</span> <span class="n">qubits</span><span class="o">=</span><span class="n">qubits</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_get_channel_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qubits</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">chan</span><span class="p">:</span> <span class="n">PulseChannel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the index of the parameterized channel.</span>

<span class="sd">        The return index is determined from the given qubits and the name of the parameter</span>
<span class="sd">        in the channel index. The name of this parameter for control channels must be written</span>
<span class="sd">        as chqubit_index1.qubit_index2... followed by an optional $index. For example, the</span>
<span class="sd">        following parameter names are valid: &#39;ch1&#39;, &#39;ch1.0&#39;, &#39;ch30.12&#39;, and &#39;ch1.0$1&#39;.</span>

<span class="sd">        Args:</span>
<span class="sd">            qubits: The qubits for which we want to obtain the channel index.</span>
<span class="sd">            chan: The channel with a parameterized name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            index: The index of the channel. For example, if qubits=(10, 32) and</span>
<span class="sd">                chan is a control channel with parameterized index name &#39;ch1.0&#39;</span>
<span class="sd">                the method returns the control channel corresponding to</span>
<span class="sd">                qubits (qubits[1], qubits[0]) which is here the control channel of</span>
<span class="sd">                qubits (32, 10).</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError:</span>
<span class="sd">                - If the number of qubits is incorrect.</span>
<span class="sd">                - If the number of inferred ControlChannels is not correct.</span>
<span class="sd">                - If ch is not a DriveChannel, MeasureChannel, or ControlChannel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chan</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">Parameter</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span>
                <span class="n">chan</span><span class="p">,</span> <span class="p">(</span><span class="n">DriveChannel</span><span class="p">,</span> <span class="n">MeasureChannel</span><span class="p">,</span> <span class="n">AcquireChannel</span><span class="p">,</span> <span class="n">RegisterSlot</span><span class="p">,</span> <span class="n">MemorySlot</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">chan</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">qubits</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">index</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Not enough qubits given for channel </span><span class="si">{</span><span class="n">chan</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

                <span class="k">return</span> <span class="n">qubits</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

            <span class="c1"># Control channels name example ch1.0$1</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chan</span><span class="p">,</span> <span class="n">ControlChannel</span><span class="p">):</span>
                <span class="n">channel_index_parts</span> <span class="o">=</span> <span class="n">chan</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">)</span>
                <span class="n">qubit_channels</span> <span class="o">=</span> <span class="n">channel_index_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

                <span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">sub_channel</span><span class="p">)</span> <span class="k">for</span> <span class="n">sub_channel</span> <span class="ow">in</span> <span class="n">qubit_channels</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)]</span>
                <span class="n">ch_qubits</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">qubits</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">)</span>
                <span class="n">chs_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_control_channel_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ch_qubits</span><span class="p">,</span> <span class="p">[])</span>

                <span class="n">control_index</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">channel_index_parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">control_index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">channel_index_parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">chs_</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">control_index</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Control channel index </span><span class="si">{</span><span class="n">control_index</span><span class="si">}</span><span class="s2"> not found for qubits </span><span class="si">{</span><span class="n">qubits</span><span class="si">}</span><span class="s2">.&quot;</span>
                    <span class="p">)</span>

                <span class="k">return</span> <span class="n">chs_</span><span class="p">[</span><span class="n">control_index</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>

            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">chan</span><span class="si">}</span><span class="s2"> must be a sub-type of </span><span class="si">{</span><span class="n">PulseChannel</span><span class="si">}</span><span class="s2"> or an </span><span class="si">{</span><span class="n">AcquireChannel</span><span class="si">}</span><span class="s2">, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">RegisterSlot</span><span class="si">}</span><span class="s2">, or a </span><span class="si">{</span><span class="n">MemorySlot</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">chan</span><span class="o">.</span><span class="n">index</span>

<div class="viewcode-block" id="Calibrations.get_parameter_value">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.get_parameter_value">[docs]</a>
    <span class="k">def</span> <span class="nf">get_parameter_value</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">param</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Parameter</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">qubits</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]],</span>
        <span class="n">schedule</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ScheduleBlock</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">valid_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">group</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="n">cutoff_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves the value of a parameter.</span>

<span class="sd">        Parameters may be linked. :meth:`get_parameter_value` does the following steps:</span>

<span class="sd">        1. Retrieve the parameter object corresponding to (param, qubits, schedule).</span>
<span class="sd">        2. The values of this parameter may be stored under another schedule since</span>
<span class="sd">           schedules can share parameters. To deal with this, a list of candidate keys</span>
<span class="sd">           is created internally based on the current configuration.</span>
<span class="sd">        3. Look for candidate parameter values under the candidate keys.</span>
<span class="sd">        4. Filter the candidate parameter values according to their date (up until the</span>
<span class="sd">           cutoff_date), validity and calibration group.</span>
<span class="sd">        5. Return the most recent parameter.</span>

<span class="sd">        Args:</span>
<span class="sd">            param: The parameter or the name of the parameter for which to get the parameter value.</span>
<span class="sd">            qubits: The qubits for which to get the value of the parameter.</span>
<span class="sd">            schedule: The schedule or its name for which to get the parameter value.</span>
<span class="sd">            valid_only: Use only parameters marked as valid.</span>
<span class="sd">            group: The calibration group from which to draw the parameters.</span>
<span class="sd">                If not specified this defaults to the &#39;default&#39; group.</span>
<span class="sd">            cutoff_date: Retrieve the most recent parameter up until the cutoff date. Parameters</span>
<span class="sd">                generated after the cutoff date will be ignored. If the cutoff_date is None then</span>
<span class="sd">                all parameters are considered. This allows users to discard more recent values that</span>
<span class="sd">                may be erroneous.</span>

<span class="sd">        Returns:</span>
<span class="sd">            value: The value of the parameter.</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError: If there is no parameter value for the given parameter name and</span>
<span class="sd">                pulse channel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qubits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_tuple</span><span class="p">(</span><span class="n">qubits</span><span class="p">)</span>

        <span class="c1"># 1) Identify the parameter object.</span>
        <span class="n">param_name</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="n">Parameter</span><span class="p">)</span> <span class="k">else</span> <span class="n">param</span>
        <span class="n">sched_name</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schedule</span><span class="p">,</span> <span class="n">ScheduleBlock</span><span class="p">)</span> <span class="k">else</span> <span class="n">schedule</span>

        <span class="n">param</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_parameter</span><span class="p">(</span><span class="n">param_name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">sched_name</span><span class="p">)</span>

        <span class="c1"># 2) Get a list of candidate keys restricted to the qubits of interest.</span>
        <span class="n">candidate_keys</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map_r</span><span class="p">[</span><span class="n">param</span><span class="p">]:</span>
            <span class="n">candidate_keys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ParameterKey</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">parameter</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span><span class="p">))</span>

        <span class="c1"># 3) Loop though the candidate keys to candidate values</span>
        <span class="n">candidates</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">candidate_keys</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_params</span><span class="p">:</span>
                <span class="n">candidates</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_params</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

        <span class="c1"># If no candidate parameter values were found look for default parameters</span>
        <span class="c1"># i.e. parameters that do not specify a qubit.</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">candidate_keys</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">ParameterKey</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">parameter</span><span class="p">,</span> <span class="p">(),</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_params</span><span class="p">:</span>
                    <span class="n">candidates</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_params</span><span class="p">[</span><span class="n">ParameterKey</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">parameter</span><span class="p">,</span> <span class="p">(),</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span><span class="p">)]</span>

        <span class="c1"># 4) Filter candidate parameter values.</span>
        <span class="k">if</span> <span class="n">valid_only</span><span class="p">:</span>
            <span class="n">candidates</span> <span class="o">=</span> <span class="p">[</span><span class="n">val</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">candidates</span> <span class="k">if</span> <span class="n">val</span><span class="o">.</span><span class="n">valid</span><span class="p">]</span>

        <span class="n">candidates</span> <span class="o">=</span> <span class="p">[</span><span class="n">val</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">candidates</span> <span class="k">if</span> <span class="n">val</span><span class="o">.</span><span class="n">group</span> <span class="o">==</span> <span class="n">group</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">cutoff_date</span><span class="p">:</span>
            <span class="n">cutoff_date</span> <span class="o">=</span> <span class="n">cutoff_date</span><span class="o">.</span><span class="n">astimezone</span><span class="p">()</span>
            <span class="n">candidates</span> <span class="o">=</span> <span class="p">[</span><span class="n">val</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">candidates</span> <span class="k">if</span> <span class="n">val</span><span class="o">.</span><span class="n">date_time</span> <span class="o">&lt;=</span> <span class="n">cutoff_date</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;No candidate parameter values for </span><span class="si">{</span><span class="n">param_name</span><span class="si">}</span><span class="s2"> in calibration group </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2"> &quot;</span>

            <span class="k">if</span> <span class="n">qubits</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;on qubits </span><span class="si">{</span><span class="n">qubits</span><span class="si">}</span><span class="s2"> &quot;</span>

            <span class="k">if</span> <span class="n">sched_name</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;in schedule </span><span class="si">{</span><span class="n">sched_name</span><span class="si">}</span><span class="s2"> &quot;</span>

            <span class="k">if</span> <span class="n">cutoff_date</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;with cutoff date: </span><span class="si">{</span><span class="n">cutoff_date</span><span class="si">}</span><span class="s2">&quot;</span>

            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># 5) Return the most recent parameter.</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">candidates</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">date_time</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]))[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">value</span></div>


    <span class="k">def</span> <span class="nf">_standardize_assign_params</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">assign_params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span>
        <span class="n">qubits</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
        <span class="n">schedule_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">ParameterKey</span><span class="p">,</span> <span class="n">ParameterValueType</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Standardize the format of manually specified parameter assignments.</span>

<span class="sd">        Users specify parameter assignment dictionaries as tuples. This function (a) converts</span>
<span class="sd">        these tuples to ``ParameterKey`` instances and (b) looks up parameter links between</span>
<span class="sd">        schedules and adds them to the standardized returned parameter assignment dictionary.</span>

<span class="sd">        Args:</span>
<span class="sd">            assign_params: The dictionary that specifies how to assign parameters.</span>
<span class="sd">            qubits: The qubits for which to get a schedule.</span>
<span class="sd">            schedule_name: The name of the schedule in which the parameters can be found.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dict with :class:`.ParameterKey`s as keys and :class:`.ParameterValueType`s as values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">linked_assign_params</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">assign_params</span><span class="p">:</span>
            <span class="c1"># Add parameter links for automatic linking.</span>
            <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">assign_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">key</span> <span class="o">=</span> <span class="n">ParameterKey</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">schedule_name</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">key</span> <span class="o">=</span> <span class="n">ParameterKey</span><span class="p">(</span><span class="o">*</span><span class="n">param</span><span class="p">)</span>
                <span class="n">linked_assign_params</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
                <span class="n">param</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_parameter</span><span class="p">(</span><span class="o">*</span><span class="n">key</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">key2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map_r</span><span class="p">[</span><span class="n">param</span><span class="p">]:</span>  <span class="c1"># Loop over linked keys pointing to param</span>
                    <span class="c1"># Link only over the same qubits.</span>
                    <span class="k">if</span> <span class="n">key2</span><span class="o">.</span><span class="n">qubits</span> <span class="o">==</span> <span class="p">():</span>
                        <span class="n">key2</span> <span class="o">=</span> <span class="n">ParameterKey</span><span class="p">(</span><span class="n">key2</span><span class="o">.</span><span class="n">parameter</span><span class="p">,</span> <span class="n">key</span><span class="o">.</span><span class="n">qubits</span><span class="p">,</span> <span class="n">key2</span><span class="o">.</span><span class="n">schedule</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">key2</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">linked_assign_params</span><span class="p">:</span>
                        <span class="n">linked_assign_params</span><span class="p">[</span><span class="n">key2</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">return</span> <span class="n">linked_assign_params</span>

<div class="viewcode-block" id="Calibrations.get_schedule">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.get_schedule">[docs]</a>
    <span class="k">def</span> <span class="nf">get_schedule</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">qubits</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]],</span>
        <span class="n">assign_params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ParameterKey</span><span class="p">],</span> <span class="n">ParameterValueType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="n">cutoff_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleBlock</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the template schedule with parameters assigned to values.</span>

<span class="sd">        All the parameters in the template schedule block will be assigned to the values managed</span>
<span class="sd">        by the calibrations unless they are specified in assign_params. In this case the value in</span>
<span class="sd">        assign_params will override the value stored by the calibrations. A parameter value in</span>
<span class="sd">        assign_params may also be a :class:`ParameterExpression`.</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            # Get an xp schedule with a parametric amplitude</span>
<span class="sd">            sched = cals.get_schedule(&quot;xp&quot;, 3, assign_params={&quot;amp&quot;: Parameter(&quot;amp&quot;)})</span>

<span class="sd">            # Get an echoed-cross-resonance schedule between qubits (0, 2) where the xp echo gates</span>
<span class="sd">            # are referenced schedules but leave their amplitudes as parameters.</span>
<span class="sd">            assign_dict = {(&quot;amp&quot;, (0,), &quot;xp&quot;): Parameter(&quot;my_amp&quot;)}</span>
<span class="sd">            sched = cals.get_schedule(&quot;cr&quot;, (0, 2), assign_params=assign_dict)</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the schedule to get.</span>
<span class="sd">            qubits: The qubits for which to get the schedule.</span>
<span class="sd">            assign_params: The parameters to assign manually. Each parameter is specified by a</span>
<span class="sd">                ParameterKey which is a named tuple of the form (parameter name, qubits,</span>
<span class="sd">                schedule name). Each entry in assign_params can also be a string corresponding</span>
<span class="sd">                to the name of the parameter. In this case, the schedule name and qubits of the</span>
<span class="sd">                corresponding ParameterKey will be the name and qubits given as arguments to</span>
<span class="sd">                get_schedule.</span>
<span class="sd">            group: The calibration group from which to draw the parameters. If not specified</span>
<span class="sd">                this defaults to the &#39;default&#39; group.</span>
<span class="sd">            cutoff_date: Retrieve the most recent parameter up until the cutoff date. Parameters</span>
<span class="sd">                generated after the cutoff date will be ignored. If the cutoff_date is None then</span>
<span class="sd">                all parameters are considered. This allows users to discard more recent values that</span>
<span class="sd">                may be erroneous.</span>

<span class="sd">        Returns:</span>
<span class="sd">            schedule: A copy of the template schedule with all parameters assigned.</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError: If the name of the schedule is not known.</span>
<span class="sd">            CalibrationError: If a parameter could not be found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qubits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_tuple</span><span class="p">(</span><span class="n">qubits</span><span class="p">)</span>

        <span class="n">assign_params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_standardize_assign_params</span><span class="p">(</span><span class="n">assign_params</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

        <span class="n">schedule</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">qubits</span><span class="p">)</span>

        <span class="c1"># assign any references using a depth first-search.</span>
        <span class="n">referenced_schedules</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">schedule</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">unassigned</span><span class="p">():</span>
            <span class="n">ref_name</span><span class="p">,</span> <span class="n">ref_qubits</span> <span class="o">=</span> <span class="n">reference_info</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">qubits</span><span class="p">)</span>
            <span class="n">ref_assign</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">assign_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span> <span class="o">==</span> <span class="n">ref_name</span> <span class="ow">and</span> <span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">qubits</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">()</span> <span class="ow">or</span> <span class="n">key</span><span class="o">.</span><span class="n">qubits</span> <span class="o">==</span> <span class="n">ref_qubits</span><span class="p">):</span>
                    <span class="n">ref_assign</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>

            <span class="n">referenced_schedules</span><span class="p">[</span><span class="n">ref</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_schedule</span><span class="p">(</span>
                <span class="n">ref_name</span><span class="p">,</span>
                <span class="n">ref_qubits</span><span class="p">,</span>
                <span class="n">assign_params</span><span class="o">=</span><span class="n">ref_assign</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">schedule</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">assign_references</span><span class="p">(</span><span class="n">referenced_schedules</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># Retrieve the channel indices based on the qubits and bind them.</span>
        <span class="n">binding_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">schedule</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ch</span><span class="o">.</span><span class="n">is_parameterized</span><span class="p">():</span>
                <span class="n">binding_dict</span><span class="p">[</span><span class="n">ch</span><span class="o">.</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_channel_index</span><span class="p">(</span><span class="n">qubits</span><span class="p">,</span> <span class="n">ch</span><span class="p">)</span>

        <span class="c1"># Binding the channel indices makes it easier to deal with parameters later on</span>
        <span class="n">schedule</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">assign_parameters</span><span class="p">(</span><span class="n">binding_dict</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># Now assign the other parameters</span>
        <span class="n">assigned_schedule</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assign</span><span class="p">(</span><span class="n">schedule</span><span class="p">,</span> <span class="n">qubits</span><span class="p">,</span> <span class="n">assign_params</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">cutoff_date</span><span class="p">)</span>

        <span class="n">free_params</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">param_value</span> <span class="ow">in</span> <span class="n">assign_params</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">param_value</span><span class="p">,</span> <span class="n">ParameterExpression</span><span class="p">):</span>
                <span class="n">free_params</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">param_value</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">assigned_schedule</span><span class="o">.</span><span class="n">parameters</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">free_params</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The number of free parameters </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">assigned_schedule</span><span class="o">.</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s2"> in &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;the assigned schedule differs from the requested number of free &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;parameters </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">free_params</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">assigned_schedule</span></div>


    <span class="k">def</span> <span class="nf">_assign</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">schedule</span><span class="p">:</span> <span class="n">ScheduleBlock</span><span class="p">,</span>
        <span class="n">qubits</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
        <span class="n">assign_params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ParameterKey</span><span class="p">],</span> <span class="n">ParameterValueType</span><span class="p">],</span>
        <span class="n">group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="n">cutoff_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleBlock</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Assign parameters in a schedule.</span>

<span class="sd">        This function builds the binding dictionary and ensures that manually specified parameters</span>
<span class="sd">        have priority over those managed by the calibrations class.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule: The schedule with assigned channel indices for which we wish to</span>
<span class="sd">                assign values to non-channel parameters.</span>
<span class="sd">            qubits: The qubits for which to get the schedule.</span>
<span class="sd">            assign_params: The parameters to manually assign. See get_schedules for details.</span>
<span class="sd">            group: The calibration group of the parameters.</span>
<span class="sd">            cutoff_date: Retrieve the most recent parameter up until the cutoff date. Parameters</span>
<span class="sd">                generated after the cutoff date will be ignored. If the cutoff_date is None then</span>
<span class="sd">                all parameters are considered. This allows users to discard more recent values that</span>
<span class="sd">                may be erroneous.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ret_schedule: The schedule with assigned parameters.</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError: If a channel has not been assigned.</span>
<span class="sd">            CalibrationError: If there is an ambiguous parameter assignment.</span>
<span class="sd">            CalibrationError: If there are inconsistencies between a called schedule and the</span>
<span class="sd">                template schedule registered under the name of the called schedule.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># 1) Restrict the given qubits to those in the given schedule.</span>
        <span class="n">qubit_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="n">schedule</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chan</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">ParameterExpression</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Parametric channels must be assigned. </span><span class="si">{</span><span class="n">chan</span><span class="si">}</span><span class="s2"> is parametric.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chan</span><span class="p">,</span> <span class="p">(</span><span class="n">DriveChannel</span><span class="p">,</span> <span class="n">MeasureChannel</span><span class="p">)):</span>
                <span class="n">qubit_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">chan</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chan</span><span class="p">,</span> <span class="n">ControlChannel</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">qubit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_controls_config_r</span><span class="p">[</span><span class="n">chan</span><span class="p">]:</span>
                    <span class="n">qubit_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">qubit</span><span class="p">)</span>

        <span class="n">qubits_</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">qubit</span> <span class="k">for</span> <span class="n">qubit</span> <span class="ow">in</span> <span class="n">qubits</span> <span class="k">if</span> <span class="n">qubit</span> <span class="ow">in</span> <span class="n">qubit_set</span><span class="p">)</span>

        <span class="c1"># 2) Build the parameter binding dictionary.</span>
        <span class="c1"># 2a) Handle parameter assignments that come outside of Calibrations</span>
        <span class="n">binding_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">assignment_table</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">assign_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">key_orig</span> <span class="o">=</span> <span class="n">key</span>
            <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">qubits</span> <span class="o">==</span> <span class="p">():</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">ParameterKey</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">parameter</span><span class="p">,</span> <span class="n">qubits_</span><span class="p">,</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">assign_params</span><span class="p">:</span>
                    <span class="c1"># if (param, (1,), sched) and (param, (), sched) are both</span>
                    <span class="c1"># in assign_params, skip the default value instead of</span>
                    <span class="c1"># possibly triggering an error about conflicting</span>
                    <span class="c1"># parameters.</span>
                    <span class="k">continue</span>
            <span class="k">elif</span> <span class="n">key</span><span class="o">.</span><span class="n">qubits</span> <span class="o">!=</span> <span class="n">qubits_</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">param</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_parameter</span><span class="p">(</span><span class="o">*</span><span class="n">key</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">schedule</span><span class="o">.</span><span class="n">parameters</span><span class="p">:</span>
                <span class="n">assign_okay</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">param</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">binding_dict</span>
                    <span class="ow">or</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span> <span class="o">==</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span>
                    <span class="ow">and</span> <span class="n">assignment_table</span><span class="p">[</span><span class="n">param</span><span class="p">]</span><span class="o">.</span><span class="n">schedule</span> <span class="o">!=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">assign_okay</span><span class="p">:</span>
                    <span class="n">binding_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
                    <span class="n">assignment_table</span><span class="p">[</span><span class="n">param</span><span class="p">]</span> <span class="o">=</span> <span class="n">key_orig</span>
                <span class="k">elif</span> <span class="p">(</span>
                    <span class="n">key</span><span class="o">.</span><span class="n">schedule</span> <span class="o">==</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span>
                    <span class="ow">or</span> <span class="n">assignment_table</span><span class="p">[</span><span class="n">param</span><span class="p">]</span><span class="o">.</span><span class="n">schedule</span> <span class="o">!=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span>
                <span class="p">)</span> <span class="ow">and</span> <span class="n">binding_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span> <span class="o">!=</span> <span class="n">value</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                        <span class="s2">&quot;Ambiguous assignment: assign_params keys &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key_orig</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">assignment_table</span><span class="p">[</span><span class="n">param</span><span class="p">]</span><span class="si">}</span><span class="s2"> &quot;</span>
                        <span class="s2">&quot;resolve to the same parameter.&quot;</span>
                    <span class="p">)</span>

        <span class="c1"># 2b) Handle automatic parameter assignments managed by calibrations.</span>
        <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">schedule</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_map</span><span class="p">):</span>  <span class="c1"># skip references</span>
            <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">schedule</span><span class="o">.</span><span class="n">parameters</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">ParameterKey</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">qubits_</span><span class="p">,</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="c1"># Get the parameter object. Since we are dealing with a schedule the name of</span>
                <span class="c1"># the schedule is always defined. However, the parameter may be a default</span>
                <span class="c1"># parameter for all qubits, i.e. qubits may be an empty tuple.</span>
                <span class="n">param</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_parameter</span><span class="p">(</span><span class="o">*</span><span class="n">key</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">param</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">binding_dict</span><span class="p">:</span>
                    <span class="n">binding_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parameter_value</span><span class="p">(</span>
                        <span class="n">key</span><span class="o">.</span><span class="n">parameter</span><span class="p">,</span>
                        <span class="n">key</span><span class="o">.</span><span class="n">qubits</span><span class="p">,</span>
                        <span class="n">key</span><span class="o">.</span><span class="n">schedule</span><span class="p">,</span>
                        <span class="n">group</span><span class="o">=</span><span class="n">group</span><span class="p">,</span>
                        <span class="n">cutoff_date</span><span class="o">=</span><span class="n">cutoff_date</span><span class="p">,</span>
                    <span class="p">)</span>

        <span class="k">return</span> <span class="n">schedule</span><span class="o">.</span><span class="n">assign_parameters</span><span class="p">(</span><span class="n">binding_dict</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<div class="viewcode-block" id="Calibrations.schedules">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.schedules">[docs]</a>
    <span class="k">def</span> <span class="nf">schedules</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the managed schedules in a list of dictionaries.</span>

<span class="sd">        Returns:</span>
<span class="sd">            data: A list of dictionaries with all the schedules in it. The key-value pairs are</span>

<span class="sd">            * ``qubits``: the qubits to which this schedule applies. This may be an empty</span>
<span class="sd">                tuple () if the schedule is the default for all qubits.</span>
<span class="sd">            * ``schedule``: The schedule.</span>
<span class="sd">            * ``parameters``: The parameters in the schedule exposed for convenience.</span>

<span class="sd">            This list of dictionaries can easily be converted to a data frame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">sched</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;qubits&quot;</span><span class="p">:</span> <span class="n">key</span><span class="o">.</span><span class="n">qubits</span><span class="p">,</span> <span class="s2">&quot;schedule&quot;</span><span class="p">:</span> <span class="n">sched</span><span class="p">,</span> <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="n">sched</span><span class="o">.</span><span class="n">parameters</span><span class="p">})</span>

        <span class="k">return</span> <span class="n">data</span></div>


<div class="viewcode-block" id="Calibrations.parameters_table">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.parameters_table">[docs]</a>
    <span class="k">def</span> <span class="nf">parameters_table</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">parameters</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">qubit_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">schedules</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">ScheduleBlock</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">most_recent_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A convenience function to help users visualize the values of their parameter.</span>

<span class="sd">        Args:</span>
<span class="sd">            parameters: The parameter names that should be included in the returned</span>
<span class="sd">                table. If None is given then all names are included.</span>
<span class="sd">            qubit_list: The qubits that should be included in the returned table.</span>
<span class="sd">                If None is given then all channels are returned.</span>
<span class="sd">            schedules: The schedules to which to restrict the output.</span>
<span class="sd">            most_recent_only: return only the most recent parameter values.</span>
<span class="sd">            group: If the group is given then only the parameters from this group are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">                A dictionary with the keys &quot;data&quot; and &quot;columns&quot; that can easily</span>
<span class="sd">                be converted to a data frame. The &quot;data&quot; are a list of dictionaries</span>
<span class="sd">                each holding a parameter value. The &quot;columns&quot; are the keys in the &quot;data&quot;</span>
<span class="sd">                dictionaries and are returned in the preferred display order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">qubit_list</span><span class="p">:</span>
            <span class="n">qubit_list</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_to_tuple</span><span class="p">(</span><span class="n">qubits</span><span class="p">)</span> <span class="k">for</span> <span class="n">qubits</span> <span class="ow">in</span> <span class="n">qubit_list</span><span class="p">]</span>

        <span class="c1"># Convert inputs to lists of strings</span>
        <span class="k">if</span> <span class="n">schedules</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">schedules</span> <span class="o">=</span> <span class="p">{</span><span class="n">sdl</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sdl</span><span class="p">,</span> <span class="n">ScheduleBlock</span><span class="p">)</span> <span class="k">else</span> <span class="n">sdl</span> <span class="k">for</span> <span class="n">sdl</span> <span class="ow">in</span> <span class="n">schedules</span><span class="p">}</span>

        <span class="c1"># Look for exact matches. Default values will be ignored.</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_params</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">parameters</span> <span class="ow">and</span> <span class="n">key</span><span class="o">.</span><span class="n">parameter</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">parameters</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">schedules</span> <span class="ow">and</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">schedules</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">qubit_list</span> <span class="ow">and</span> <span class="n">key</span><span class="o">.</span><span class="n">qubits</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">qubit_list</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="n">keys</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">most_recent_only</span><span class="p">:</span>
            <span class="n">most_recent</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_params</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">date_time</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">}</span>

            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">most_recent</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_append_to_list</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">group</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_params</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_append_to_list</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">group</span><span class="p">)</span>

        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;parameter&quot;</span><span class="p">,</span>
            <span class="s2">&quot;qubits&quot;</span><span class="p">,</span>
            <span class="s2">&quot;schedule&quot;</span><span class="p">,</span>
            <span class="s2">&quot;value&quot;</span><span class="p">,</span>
            <span class="s2">&quot;group&quot;</span><span class="p">,</span>
            <span class="s2">&quot;valid&quot;</span><span class="p">,</span>
            <span class="s2">&quot;date_time&quot;</span><span class="p">,</span>
            <span class="s2">&quot;exp_id&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="s2">&quot;columns&quot;</span><span class="p">:</span> <span class="n">columns</span><span class="p">}</span></div>


    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_append_to_list</span><span class="p">(</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">],</span> <span class="n">value</span><span class="p">:</span> <span class="n">ParameterValue</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">ParameterKey</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Helper function to add a value to the data.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">group</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">group</span> <span class="o">!=</span> <span class="n">group</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">value_dict</span> <span class="o">=</span> <span class="n">dataclasses</span><span class="o">.</span><span class="n">asdict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">value_dict</span><span class="p">[</span><span class="s2">&quot;qubits&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">qubits</span>
        <span class="n">value_dict</span><span class="p">[</span><span class="s2">&quot;parameter&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">parameter</span>
        <span class="n">value_dict</span><span class="p">[</span><span class="s2">&quot;schedule&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span>
        <span class="n">value_dict</span><span class="p">[</span><span class="s2">&quot;date_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_dict</span><span class="p">[</span><span class="s2">&quot;date_time&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S.</span><span class="si">%f</span><span class="s2">%z&quot;</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value_dict</span><span class="p">)</span>

<div class="viewcode-block" id="Calibrations.save">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.save">[docs]</a>
    <span class="nd">@deprecate_arg</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;file_type&quot;</span><span class="p">,</span>
        <span class="n">since</span><span class="o">=</span><span class="s2">&quot;0.6&quot;</span><span class="p">,</span>
        <span class="n">additional_msg</span><span class="o">=</span><span class="s2">&quot;Full calibration saving is now supported in json format. csv is deprecated.&quot;</span><span class="p">,</span>
        <span class="n">package_name</span><span class="o">=</span><span class="s2">&quot;qiskit-experiments&quot;</span><span class="p">,</span>
        <span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">file_type</span><span class="p">:</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;csv&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">file_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span>
        <span class="n">folder</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">file_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">most_recent_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Save the parameterized schedules and parameter value.</span>

<span class="sd">        .. note::</span>

<span class="sd">            Full round-trip serialization of a :class:`.Calibrations` instance</span>
<span class="sd">            is only supported in JSON format.</span>
<span class="sd">            This may be extended to other file formats in future version.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_type: The type of file to which to save. By default, this is a json.</span>
<span class="sd">                Other file types may be supported in the future.</span>
<span class="sd">            folder: The folder in which to save the calibrations.</span>
<span class="sd">            overwrite: If the files already exist then they will not be overwritten</span>
<span class="sd">                unless overwrite is set to True.</span>
<span class="sd">            file_prefix: A prefix to add to the name of the files such as a date tag or a</span>
<span class="sd">                UUID.</span>
<span class="sd">            most_recent_only: Save only the most recent value. This is set to False by</span>
<span class="sd">                default so that when saving to csv all values will be saved.</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError: If the files exist and overwrite is not set to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cwd</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">folder</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">.save_utils</span> <span class="kn">import</span> <span class="n">calibrations_to_dict</span>

            <span class="n">file_path</span> <span class="o">=</span> <span class="n">file_prefix</span> <span class="o">+</span> <span class="s2">&quot;.json&quot;</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">overwrite</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2"> already exists. Set overwrite to True.&quot;</span><span class="p">)</span>

            <span class="n">canonical_data</span> <span class="o">=</span> <span class="n">calibrations_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">most_recent_only</span><span class="o">=</span><span class="n">most_recent_only</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">canonical_data</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">ExperimentEncoder</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;csv&quot;</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Schedules are only saved in text format. They cannot be re-loaded.&quot;</span><span class="p">)</span>

            <span class="n">parameter_config_file</span> <span class="o">=</span> <span class="n">file_prefix</span> <span class="o">+</span> <span class="s2">&quot;parameter_config.csv&quot;</span>
            <span class="n">parameter_value_file</span> <span class="o">=</span> <span class="n">file_prefix</span> <span class="o">+</span> <span class="s2">&quot;parameter_values.csv&quot;</span>
            <span class="n">schedule_file</span> <span class="o">=</span> <span class="n">file_prefix</span> <span class="o">+</span> <span class="s2">&quot;schedules.csv&quot;</span>

            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">parameter_config_file</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">overwrite</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">parameter_config_file</span><span class="si">}</span><span class="s2"> already exists. Set overwrite to True.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">parameter_value_file</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">overwrite</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">parameter_value_file</span><span class="si">}</span><span class="s2"> already exists. Set overwrite to True.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">schedule_file</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">overwrite</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">schedule_file</span><span class="si">}</span><span class="s2"> already exists. Set overwrite to True.&quot;</span><span class="p">)</span>

            <span class="c1"># Write the parameter configuration.</span>
            <span class="n">header_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;parameter.name&quot;</span><span class="p">,</span> <span class="s2">&quot;parameter unique id&quot;</span><span class="p">,</span> <span class="s2">&quot;schedule&quot;</span><span class="p">,</span> <span class="s2">&quot;qubits&quot;</span><span class="p">]</span>
            <span class="n">body</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">for</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">keys</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                    <span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;parameter.name&quot;</span><span class="p">:</span> <span class="n">parameter</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                            <span class="s2">&quot;parameter unique id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash_to_counter_map</span><span class="p">[</span><span class="n">parameter</span><span class="p">],</span>
                            <span class="s2">&quot;schedule&quot;</span><span class="p">:</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span><span class="p">,</span>
                            <span class="s2">&quot;qubits&quot;</span><span class="p">:</span> <span class="n">key</span><span class="o">.</span><span class="n">qubits</span><span class="p">,</span>
                        <span class="p">}</span>
                    <span class="p">)</span>

            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">parameter_config_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">output_file</span><span class="p">:</span>
                <span class="n">dict_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="n">header_keys</span><span class="p">)</span>
                <span class="n">dict_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>
                <span class="n">dict_writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>

            <span class="c1"># Write the values of the parameters.</span>
            <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters_table</span><span class="p">(</span><span class="n">most_recent_only</span><span class="o">=</span><span class="n">most_recent_only</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">header_keys</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">parameter_value_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">output_file</span><span class="p">:</span>
                    <span class="n">dict_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="n">header_keys</span><span class="p">)</span>
                    <span class="n">dict_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>
                    <span class="n">dict_writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>

            <span class="c1"># Serialize the schedules. For now we just print them.</span>
            <span class="n">header_keys</span><span class="p">,</span> <span class="n">schedules</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schedule_information</span><span class="p">()</span>

            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">schedule_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">output_file</span><span class="p">:</span>
                <span class="n">dict_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="n">header_keys</span><span class="p">)</span>
                <span class="n">dict_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>
                <span class="n">dict_writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">schedules</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Saving to .</span><span class="si">{</span><span class="n">file_type</span><span class="si">}</span><span class="s2"> is not yet supported.&quot;</span><span class="p">)</span>

        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">cwd</span><span class="p">)</span></div>


<div class="viewcode-block" id="Calibrations.schedule_information">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.schedule_information">[docs]</a>
    <span class="nd">@deprecate_func</span><span class="p">(</span>
        <span class="n">since</span><span class="o">=</span><span class="s2">&quot;0.6&quot;</span><span class="p">,</span>
        <span class="n">additional_msg</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Saving calibration in csv format is deprecate &quot;</span>
            <span class="s2">&quot;as well as functions that support this functionality.&quot;</span>
        <span class="p">),</span>
        <span class="n">package_name</span><span class="o">=</span><span class="s2">&quot;qiskit-experiments&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">schedule_information</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the information on the schedules stored in the calibrations.</span>

<span class="sd">        This function serializes the schedule by simply printing them.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple, the first element is the header row while the second is a dictionary</span>
<span class="sd">            of the schedules in the calibrations where the key is an element of the header</span>
<span class="sd">            and the values are the name of the schedule, the qubits to which it applies,</span>
<span class="sd">            a string of the schedule.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Serialize the schedules. For now we just print them.</span>
        <span class="n">schedules</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">sched</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">schedules</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">key</span><span class="o">.</span><span class="n">schedule</span><span class="p">,</span> <span class="s2">&quot;qubits&quot;</span><span class="p">:</span> <span class="n">key</span><span class="o">.</span><span class="n">qubits</span><span class="p">,</span> <span class="s2">&quot;schedule&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">sched</span><span class="p">)})</span>

        <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;qubits&quot;</span><span class="p">,</span> <span class="s2">&quot;schedule&quot;</span><span class="p">],</span> <span class="n">schedules</span></div>


<div class="viewcode-block" id="Calibrations.load_parameter_values">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.load_parameter_values">[docs]</a>
    <span class="nd">@deprecate_func</span><span class="p">(</span>
        <span class="n">since</span><span class="o">=</span><span class="s2">&quot;0.6&quot;</span><span class="p">,</span>
        <span class="n">additional_msg</span><span class="o">=</span><span class="s2">&quot;Loading and saving calibrations in CSV format is deprecated.&quot;</span><span class="p">,</span>
        <span class="n">package_name</span><span class="o">=</span><span class="s2">&quot;qiskit-experiments&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">load_parameter_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;parameter_values.csv&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load parameter values from a given file into self._params.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_name: The name of the file that stores the parameters. Will default to</span>
<span class="sd">                parameter_values.csv.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictReader</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">quotechar</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_add_parameter_value_from_conf</span><span class="p">(</span><span class="o">**</span><span class="n">row</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_inst_map</span><span class="p">()</span></div>


    <span class="k">def</span> <span class="nf">_add_parameter_value_from_conf</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">],</span>
        <span class="n">date_time</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">valid</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">],</span>
        <span class="n">exp_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">schedule</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">parameter</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">qubits</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]],</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a parameter value from a parameter configuration.</span>

<span class="sd">        The intended usage is :code:`add_parameter_from_conf(**param_conf)`. Entries such</span>
<span class="sd">        as ``value`` or ``date_time`` are converted to the proper type.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: The value of the parameter.</span>
<span class="sd">            date_time: The datetime string.</span>
<span class="sd">            valid: Whether or not the parameter is valid.</span>
<span class="sd">            exp_id: The id of the experiment that created the parameter value.</span>
<span class="sd">            group: The calibration group to which the parameter belongs.</span>
<span class="sd">            schedule: The schedule to which the parameter belongs. The empty string</span>
<span class="sd">                &quot;&quot; is converted to None.</span>
<span class="sd">            parameter: The name of the parameter.</span>
<span class="sd">            qubits: The qubits on which the parameter acts.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO remove this after load_parameter_values method is removed.</span>

        <span class="n">param_val</span> <span class="o">=</span> <span class="n">ParameterValue</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">date_time</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">exp_id</span><span class="p">,</span> <span class="n">group</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">schedule</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">schedule_name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">schedule_name</span> <span class="o">=</span> <span class="n">schedule</span>

        <span class="n">key</span> <span class="o">=</span> <span class="n">ParameterKey</span><span class="p">(</span><span class="n">parameter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_tuple</span><span class="p">(</span><span class="n">qubits</span><span class="p">),</span> <span class="n">schedule_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter_value</span><span class="p">(</span><span class="n">param_val</span><span class="p">,</span> <span class="o">*</span><span class="n">key</span><span class="p">,</span> <span class="n">update_inst_map</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<div class="viewcode-block" id="Calibrations.load">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.load">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="nd">@deprecate_arg</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;files&quot;</span><span class="p">,</span>
        <span class="n">new_alias</span><span class="o">=</span><span class="s2">&quot;file_path&quot;</span><span class="p">,</span>
        <span class="n">since</span><span class="o">=</span><span class="s2">&quot;0.6&quot;</span><span class="p">,</span>
        <span class="n">package_name</span><span class="o">=</span><span class="s2">&quot;qiskit-experiments&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Calibrations&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the parameterized schedules and pulse parameters from the</span>
<span class="sd">        given location.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_path: Path to file location.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Calibration instance restored from the file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.save_utils</span> <span class="kn">import</span> <span class="n">calibrations_from_dict</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="c1"># Do we really need branching for data types?</span>
            <span class="c1"># Parsing data format and dispatching the loader seems an overkill,</span>
            <span class="c1"># but save method intend to support multiple formats.</span>
            <span class="n">cal_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">ExperimentDecoder</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">calibrations_from_dict</span><span class="p">(</span><span class="n">cal_data</span><span class="p">)</span></div>


    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_to_tuple</span><span class="p">(</span><span class="n">qubits</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ensure that qubits is a tuple of ints.</span>

<span class="sd">        Args:</span>
<span class="sd">            qubits: An int, a tuple of ints, or a string representing a tuple of ints.</span>

<span class="sd">        Returns:</span>
<span class="sd">            qubits: A tuple of ints.</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError: If the given input does not conform to an int or</span>
<span class="sd">                tuple of ints.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">qubits</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">qubits</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">qubit</span><span class="p">)</span> <span class="k">for</span> <span class="n">qubit</span> <span class="ow">in</span> <span class="n">qubits</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;( )&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">qubit</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">qubits</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">qubits</span><span class="p">,)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">qubits</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">qubits</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">qubits</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">qubits</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">qubits</span>

        <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">qubits</span><span class="si">}</span><span class="s2"> must be int, tuple of ints, or str  that can be parsed&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;to a tuple if ints. Received </span><span class="si">{</span><span class="n">qubits</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;Calibrations&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test equality between two calibrations.</span>

<span class="sd">        Two calibration instances are considered equal if</span>
<span class="sd">        - The backends have the same name.</span>
<span class="sd">        - The backends have the same version.</span>
<span class="sd">        - The calibrations contain the same schedules.</span>
<span class="sd">        - The stored parameters have the same values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend_name</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">backend_name</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_version</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">backend_version</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># Compare the contents of schedules, schedules are compared by their string</span>
        <span class="c1"># representation because they contain parameters.</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">schedule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">repr</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_schedules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># Check the keys.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">_schedules</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">def</span> <span class="nf">_counting</span><span class="p">(</span><span class="n">table</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Counter</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()),</span> <span class="n">table</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]))</span>

        <span class="c1"># Use counting sort algorithm to compare unordered sequences</span>
        <span class="c1"># https://en.wikipedia.org/wiki/Counting_sort</span>
        <span class="k">return</span> <span class="n">_counting</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parameters_table</span><span class="p">())</span> <span class="o">==</span> <span class="n">_counting</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">parameters_table</span><span class="p">())</span>

<div class="viewcode-block" id="Calibrations.config">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.config">[docs]</a>
    <span class="nd">@deprecate_func</span><span class="p">(</span>
        <span class="n">since</span><span class="o">=</span><span class="s2">&quot;0.6&quot;</span><span class="p">,</span>
        <span class="n">additional_msg</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Configuration data for Calibrations instance is deprecate. &quot;</span>
            <span class="s2">&quot;Please use ExperimentEncoder and ExperimentDecoder to &quot;</span>
            <span class="s2">&quot;serialize and deserialize this instance with JSON format.&quot;</span>
        <span class="p">),</span>
        <span class="n">package_name</span><span class="o">=</span><span class="s2">&quot;qiskit-experiments&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the settings used to initialize the calibrations.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The config dictionary of the calibrations instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            CalibrationError: If schedules were added outside of the :code:`__init__`</span>
<span class="sd">                method. This will remain so until schedules can be serialized.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_manually_added_schedule</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CalibrationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Config dictionaries for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> are currently &quot;</span>
                <span class="s2">&quot;not supported if schedules were added manually.&quot;</span>
            <span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;coupling_map&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coupling_map</span><span class="p">,</span>
            <span class="s2">&quot;control_channel_map&quot;</span><span class="p">:</span> <span class="n">ControlChannelMap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_control_channel_map</span><span class="p">),</span>
            <span class="s2">&quot;libraries&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">libraries</span><span class="p">,</span>
            <span class="s2">&quot;add_parameter_defaults&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>  <span class="c1"># the parameters will be added outside of the init</span>
            <span class="s2">&quot;backend_name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_name</span><span class="p">,</span>
            <span class="s2">&quot;backend_version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_version</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="s2">&quot;kwargs&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="p">,</span>
            <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters_table</span><span class="p">()[</span><span class="s2">&quot;data&quot;</span><span class="p">],</span>
        <span class="p">}</span></div>


<div class="viewcode-block" id="Calibrations.from_config">
<a class="viewcode-back" href="../../../stubs/qiskit_experiments.calibration_management.Calibrations.html#qiskit_experiments.calibration_management.Calibrations.from_config">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="nd">@deprecate_func</span><span class="p">(</span>
        <span class="n">since</span><span class="o">=</span><span class="s2">&quot;0.6&quot;</span><span class="p">,</span>
        <span class="n">additional_msg</span><span class="o">=</span><span class="s2">&quot;This method will be removed and no alternative will be provided.&quot;</span><span class="p">,</span>
        <span class="n">package_name</span><span class="o">=</span><span class="s2">&quot;qiskit-experiments&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">from_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Calibrations&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Restore Calibration from config data.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: Configuration data.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Calibration instance restored from configuration data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.save_utils</span> <span class="kn">import</span> <span class="n">calibrations_from_dict</span>

        <span class="k">return</span> <span class="n">calibrations_from_dict</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">__json_encode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert to format that can be JSON serialized.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.save_utils</span> <span class="kn">import</span> <span class="n">calibrations_to_dict</span>

        <span class="k">return</span> <span class="n">calibrations_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">most_recent_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">__json_decode__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Calibrations&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load from JSON compatible format.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.save_utils</span> <span class="kn">import</span> <span class="n">calibrations_from_dict</span>

        <span class="k">return</span> <span class="n">calibrations_from_dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

</pre></div>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021-2024, Qiskit Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 2024/11/01</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=4d37c2e7"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>